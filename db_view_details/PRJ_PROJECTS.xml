<ClarityDBViewQuery>
  <QueryResult code="PRJ_PROJECTS">
    <indexes/>
    <text_length>7559</text_length>
    <text>SELECT NVL(INV_PROJECTS.PRUID, TO_CHAR(INV_INVESTMENTS.ID))
             , INV_INVESTMENTS.ID
             , INV_PROJECTS.PRGUIDELINES
             , INV_PROJECTS.PRDEPARTMENT
             , INV_PROJECTS.PRVERSION
             , INV_PROJECTS.PRUSERTEXT6
             , INV_PROJECTS.PRUSERTEXT7
             , INV_PROJECTS.PRBUDGET
             , INV_INVESTMENTS.SCHEDULE_START
             , INV_PROJECTS.PRASOF
             , INV_INVESTMENTS.SCHEDULE_FINISH
             , INV_PROJECTS.PRCPMTYPE
             , INV_INVESTMENTS.TRACK_MODE
             , INV_INVESTMENTS.IS_OPEN_FOR_TE
             , INV_INVESTMENTS.CHARGECODEID
             , INV_PROJECTS.PRSPONSOREDBY
             , INV_PROJECTS.PRREQUESTEDBY
             , INV_PROJECTS.PRREQUESTEDTIME
             , INV_INVESTMENTS.APPROVEDTIME
             , INV_PROJECTS.PRUSERTEXT1
             , INV_PROJECTS.PRUSERTEXT2
             , INV_PROJECTS.PRUSERTEXT3
             , INV_PROJECTS.PRUSERTEXT4
             , INV_PROJECTS.PRFORMAT
             , INV_PROJECTS.PRFISCALSTART
             , INV_PROJECTS.PRUSERTEXT5
             , INV_PROJECTS.PRPCTCOMPLETE
             , INV_INVESTMENTS.PRIORITY
             , INV_PROJECTS.PRCLOSEDTIME
             , INV_INVESTMENTS.MANAGER_ID
             , INV_PROJECTS.PRSIZEADJUST
             , INV_PROJECTS.PRSIZEADJUSTON
             , INV_PROJECTS.PRSTARTIMPOSED
             , INV_PROJECTS.PRFINISHIMPOSED
             , PRJ_BASELINE_DETAILS.START_DATE
             , PRJ_BASELINE_DETAILS.FINISH_DATE
             , PRJ_BASELINE_DETAILS.LAST_UPDATED_DATE
             , (SELECT USER_NAME FROM CMN_SEC_USERS WHERE ID=INV_INVESTMENTS.LAST_UPDATED_BY)
             , INV_INVESTMENTS.LAST_UPDATED_DATE
             , INV_INVESTMENTS.SLICE_STATUS
             , INV_INVESTMENTS.IDEA_ID
             , INV_INVESTMENTS.PROCESS_CODE
             , INV_INVESTMENTS.STAGE_CODE
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'product' THEN INV_PRODUCTS.CATEGORY_CODE
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'asset' THEN INV_ASSETS.CATEGORY_CODE
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.CATEGORY_CODE
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'other' THEN INV_OTHERS.CATEGORY_CODE
                    ELSE NULL
                    END AS CATEGORY_CODE             
             , INV_INVESTMENTS.GOAL_CODE
             , INV_INVESTMENTS.ALIGNMENT
             , INV_INVESTMENTS.RISK
             , INV_INVESTMENTS.STATUS_INDICATOR
             , INV_INVESTMENTS.STATUS_COMMENT
             , INV_INVESTMENTS.PROGRESS
             , INV_INVESTMENTS.STATUS
             , FIN_FINANCIALS.BUDGET_CST_TOTAL
             , FIN_FINANCIALS.BUDGET_CST_START
             , FIN_FINANCIALS.BUDGET_CST_FINISH
             , FIN_FINANCIALS.BUDGET_CST_ONHOLD
             , FIN_FINANCIALS.BUDGET_CST_RESUME
             , FIN_FINANCIALS.BUDGET_REV_TOTAL
             , FIN_FINANCIALS.BUDGET_REV_START
             , FIN_FINANCIALS.BUDGET_REV_FINISH
             , FIN_FINANCIALS.BUDGET_REV_ONHOLD
             , FIN_FINANCIALS.BUDGET_REV_RESUME
             , FIN_FINANCIALS.FORECAST_CST_TOTAL
             , FIN_FINANCIALS.FORECAST_CST_START
             , FIN_FINANCIALS.FORECAST_CST_FINISH
             , FIN_FINANCIALS.FORECAST_CST_ONHOLD
             , FIN_FINANCIALS.FORECAST_CST_RESUME
             , FIN_FINANCIALS.FORECAST_REV_TOTAL
             , FIN_FINANCIALS.FORECAST_REV_START
             , FIN_FINANCIALS.FORECAST_REV_FINISH
             , FIN_FINANCIALS.FORECAST_REV_ONHOLD
             , FIN_FINANCIALS.FORECAST_REV_RESUME
             , FIN_FINANCIALS.BUDGET_NPV
             , FIN_FINANCIALS.BUDGET_ROI
             , FIN_FINANCIALS.BUDGET_BREAKEVEN
             , FIN_FINANCIALS.FORECAST_NPV
             , FIN_FINANCIALS.FORECAST_ROI
             , FIN_FINANCIALS.FORECAST_BREAKEVEN
             , FIN_FINANCIALS.IS_FCST_EQ_BDGT
             , INV_INVESTMENTS.CURRENCY_CODE
             , FIN_FINANCIALS.IS_CALC_PV_INFO
             , INV_INVESTMENTS.APPROVEDBY_ID
             , INV_PROJECTS.PROCESS_SCALE_BDGT
             , INV_PROJECTS.PROCESS_SCALE_WORK
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'product' THEN INV_PRODUCTS.VERSION
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.VERSION
                    ELSE NULL
                    END AS INV_VERSION
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'asset' THEN INV_ASSETS.TCO
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.TCO
                    WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'product' THEN INV_PRODUCTS.TCO
                    ELSE NULL
                    END AS INV_TCO
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.SUPPLIER
                    ELSE NULL
                    END AS INV_SUPPLIER
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.POPULATION_SERVED
                    ELSE NULL
                    END AS INV_POPULATION_SERVED
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.LICENSE_COUNT
                    ELSE NULL
                    END AS INV_LICENSE_COUNT
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.FUNCTION_POINTS
                    ELSE NULL
                    END AS INV_FUNCTION_POINTS
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.TECHNOLOGY
                    ELSE NULL
                    END AS INV_TECHNOLOGY
             , CASE WHEN ODF_CA_INV.ODF_OBJECT_CODE = 'application' THEN INV_APPLICATIONS.PLATFORM
                    ELSE NULL
                    END AS INV_PLATFORM
             , INV_PROJECTS.RCF_OBJECTIVES
             , INV_PROJECTS.RCF_SPONSORSHIP
             , INV_PROJECTS.RCF_FUNDING
             , INV_PROJECTS.RCF_RESOURCE_AVAIL
             , INV_PROJECTS.RCF_INTERDEPENDENCY
             , INV_PROJECTS.RCF_TECHNICAL
             , INV_PROJECTS.RCF_HUMAN_INTERFACE
             , INV_PROJECTS.RCF_ORG_CULTURE
             , INV_PROJECTS.RCF_SUPPORTABILITY
             , INV_PROJECTS.RCF_IMPLEMENTATION
             , INV_PROJECTS.RCF_FLEXIBILITY
             , INV_INVESTMENTS.IS_REQUIRED
             , INV_INVESTMENTS.BASELINE_ID
             , INV_PROJECTS.LAST_CALC_RUN
      FROM ODF_CA_INV,
           INV_INVESTMENTS LEFT OUTER JOIN INV_PROJECTS ON INV_INVESTMENTS.ID = INV_PROJECTS.PRID
           LEFT OUTER JOIN INV_PRODUCTS ON INV_INVESTMENTS.ID = INV_PRODUCTS.ID
           LEFT OUTER JOIN INV_ASSETS ON INV_INVESTMENTS.ID = INV_ASSETS.ID
           LEFT OUTER JOIN INV_APPLICATIONS ON INV_INVESTMENTS.ID = INV_APPLICATIONS.ID
           LEFT OUTER JOIN INV_OTHERS ON INV_INVESTMENTS.ID = INV_OTHERS.ID
                  LEFT OUTER JOIN ODF_OBJECT_INSTANCE_MAPPING MAP
                    ON INV_INVESTMENTS.ID = MAP.PRIMARY_OBJECT_INSTANCE_ID
                   AND MAP.SECONDARY_OBJECT_INSTANCE_CODE = 'financials'
                   AND MAP.PRIMARY_OBJECT_INSTANCE_CODE = INV_INVESTMENTS.ODF_OBJECT_CODE
                  LEFT OUTER JOIN FIN_FINANCIALS
                    ON MAP.SECONDARY_OBJECT_INSTANCE_ID = FIN_FINANCIALS.ID
          LEFT OUTER JOIN  PRJ_BASELINE_DETAILS ON  PRJ_BASELINE_DETAILS.OBJECT_ID = INV_PROJECTS.PRID
                  AND PRJ_BASELINE_DETAILS.OBJECT_TYPE = 'PROJECT'
                  AND PRJ_BASELINE_DETAILS.IS_CURRENT = 1
      WHERE INV_INVESTMENTS.ID = ODF_CA_INV.ID
 </text>
  </QueryResult>
</ClarityDBViewQuery>
