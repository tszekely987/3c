<ClarityDBViewQuery>
  <QueryResult code="ODF_LOCATION_V2">
    <indexes/>
    <text_length>1665</text_length>
    <text>select   'x' pmd_analytical_partition_by, locations.id odf_pk, locations.CITY as city, odf_ca_location.odf_period_end as odf_period_end, odf_ca_location.odf_period_type as odf_period_type, locations.LOCATIONDESCRIPTION as description, locations.LOCATIONID as location_id, odf_ca_location.odf_period_start as odf_period_start, updated.full_name as last_updated_by, ( SELECT CASE CMN_PAGES.PRINCIPAL_TYPE WHEN 'SYSTEM' THEN CMN_PAGES.ID ELSE
        NVL(CMN_PAGES.ORIGINATING_PAGE_ID,CMN_PAGES.ID) END
        FROM CMN_INSTANCE_PAGES, CMN_PAGES
        WHERE CMN_INSTANCE_PAGES.PAGE_FRAME_ID = CMN_PAGES.ID
        AND CMN_INSTANCE_PAGES.OBJECT_INSTANCE_ID = LOCATIONS.ID
        AND CMN_INSTANCE_PAGES.OBJECT_TYPE = 'DPT_LOCATION' ) as page_layout, locations.STATEPROV as state, locations.FAX as fax, LOCATIONS.last_updated_date as last_updated_date, locations.ADDRESS3 as address3, locations.ADDRESS2 as address2, locations.ADDRESS1 as address1, locations.LOCATION_MANAGER_ID as loc_manager_id, locations.PARENT_LOCATION_ID as parent_location_id, created.full_name as created_by, locations.SHORTDESC as location_name, locations.PHONE as phone, locations.OBS_UNIT_ID as obs_unit_id, LOCATIONS.created_date as created_date, odf_ca_location.partition_code as partition_code, locations.ZIP as postal_code, locations.ENTITY as entity, locations.COUNTRYID as country_id, odf_ca_location.odf_entity_code as odf_entity_code  from locations locations JOIN srm_resources created ON created.user_id=locations.created_by JOIN srm_resources updated ON updated.user_id=locations.last_updated_by JOIN odf_ca_location odf_ca_location ON odf_ca_location.id=locations.id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
