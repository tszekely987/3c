<ClarityDBViewQuery>
  <QueryResult code="ODF_RESOURCE_V2">
    <indexes/>
    <text_length>4994</text_length>
    <text>select   'x' pmd_analytical_partition_by, srm_resources.id odf_pk, srm_resources.forecast_rate as forecast_rate, srm_resources.DEFINED_TEAM_ID as defined_team_id, (CASE WHEN (select enabled from cmn_features cf where code = 'TEAM_INVESTMENTS_F28976') = 1 THEN (select odf_object_code from inv_investments where id = SRM_RESOURCES.DEFINED_TEAM_ID)
        ELSE (CASE WHEN SRM_RESOURCES.DEFINED_TEAM_ID IS NOT NULL THEN 'teamdefinition' ELSE NULL END) END
        ) as team_obj_code, PAC_RES.VENDOR_CODE as vendor_code, odf_ca_resource.obj_last_anonymized as obj_last_anonymized, PAC_RES.TRANSCLASS as trans_class, odf_ca_resource.obj_anonymize_pii as obj_anonymize_pii, srm_resources.USE_IN_FRC_BUDGET as use_in_frc_budget, PAC_RES.DEPARTCODE as financial_department, PAC_RES.RESOURCE_CLASS as resource_class, PAC_RES.ACTIVE as active, prj_resources.ODF_PRAVAILCURVE as avail_curve, srm_resources.FULL_NAME as full_name, srm_resources.USER_ID as user_id, UPDATED.full_name as updated_by, (NVL((SELECT 1 FROM DUAL WHERE EXISTS (SELECT PRID FROM PRTEAM WHERE PRTEAM.PRRESOURCEID = SRM_RESOURCES.ID)),0)) as is_staffed, NVL( srm_resources.odf_blueprint_id, (select id from odf_blueprints b where b.type = NLS_UPPER('resource') and b.is_default = 1  ) ) as odf_blp_active_id, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, prj_obs_object_types poot where  NLS_UPPER(poa.table_name) = NLS_UPPER('SRM_RESOURCES') and poa.record_id = SRM_RESOURCES.ID and poa.unit_id = pou.id and pou.type_id = pot.id   and pot.id = poot.type_id and NLS_UPPER(poa.table_name) = NLS_UPPER(poot.table_name) and NLS_UPPER(poot.assoc_att_code) = NLS_UPPER('odf_reso_n384493238') ) as odf_reso_n384493238, prj_resources.ODF_TOTAL_ALLOC as total_alloc_curve, srm_resources.PERSON_TYPE as person_type, prj_resources.prAvailCurve as pravailcurve, prj_resources.prCalendarID as prcalendarid, odf_ca_resource.odf_period_type as odf_period_type, srm_resources.IS_HIDDEN as is_hidden, prj_resources.prIsOpen as prisopen, srm_resources.EXTERNAL_ID as external_id, (select cov.value from cmn_options co, cmn_option_values cov where co.id = cov.option_id and
        co.option_code = 'CMN_SYSTEM_CURRENCY') as currency_code, (CASE WHEN SRM_RESOURCES.DEFINED_TEAM_ID IS NOT NULL THEN 1 ELSE 0 END) as is_team, prj_resources.prUID as pruid, odf_ca_resource.odf_period_start as odf_period_start, srm_resources.MANAGER_ID as manager_id, srm_resources.EMAIL as email, prj_resources.ODF_TOTAL_HARD_ALLOC as total_hard_alc_curve, prj_resources.prUserNumber1 as prusernumber1, PAC_RES.LOCATIONID as financial_location, srm_resources.IS_ACTIVE as is_active, prj_resources.prUserNumber2 as prusernumber2, srm_resources.LAST_NAME as last_name, srm_resources.entity_code as entity, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, entity ent where  NLS_UPPER(poa.table_name) = NLS_UPPER('SRM_RESOURCES') and poa.record_id = SRM_RESOURCES.ID and poa.unit_id = pou.id and pou.type_id = pot.id  and pot.id = ent.org_chart_obs_type_id ) as odf_obs_fin_dept, prj_resources.SLICE_STATUS as prj_slice_status, prj_resources.prCategory as prcategory, srm_resources.INCLUDE_FLAG as include_flag, srm_resources.RESOURCE_TYPE as resource_type, odf_ca_resource.clr_experience as clr_experience, CREATED.full_name as created_by, srm_resources.UNIQUE_NAME as unique_name, prj_resources.prUserFlag1 as pruserflag1, prj_resources.prTypeCodeID as prtypecodeid, prj_resources.prUserFlag2 as pruserflag2, odf_ca_resource.odf_period_end as odf_period_end, 'resource' as odf_obj_type, srm_resources.SLICE_STATUS as srm_slice_status, srm_resources.BOOK_MANAGER_ID as book_manager_id, prj_resources.prUserText1 as prusertext1, prj_resources.prUserText2 as prusertext2, prj_resources.prUserText3 as prusertext3, prj_resources.prUserText4 as prusertext4, SRM_RESOURCES.LAST_UPDATED_DATE as last_updated_date, srm_resources.FIRST_NAME as first_name, srm_resources.SMS_EMAIL as sms_email, prj_resources.prParentID as prparentid, prj_resources.prTrackMode as prtrackmode, prj_resources.prIsRole as prisrole, odf_ca_resource.obj_bi_user_id as obj_bi_user_id, srm_resources.IS_EXTERNAL as is_external, srm_resources.ODF_BLUEPRINT_ID as odf_blueprint_id, prj_resources.prPrimaryRoleID as prprimaryroleid, srm_resources.EXTERNAL_SOURCE_ID as external_source_id, srm_resources.DATE_OF_HIRE as date_of_hire, srm_resources.DATE_OF_TERMINATION as date_of_termination, SRM_RESOURCES.CREATED_DATE as created_date, odf_ca_resource.partition_code as partition_code  from srm_resources srm_resources JOIN prj_resources prj_resources ON prj_resources.prid=srm_resources.id LEFT OUTER JOIN pac_mnt_resources PAC_RES ON PAC_RES.ID = SRM_RESOURCES.ID JOIN srm_resources CREATED ON CREATED.user_id=srm_resources.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=srm_resources.last_updated_by JOIN odf_ca_resource odf_ca_resource ON odf_ca_resource.id=srm_resources.id  where SRM_RESOURCES.IS_HIDDEN = 0</text>
  </QueryResult>
</ClarityDBViewQuery>
