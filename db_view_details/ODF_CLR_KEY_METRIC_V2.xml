<ClarityDBViewQuery>
  <QueryResult code="ODF_CLR_KEY_METRIC_V2">
    <indexes/>
    <text_length>3172</text_length>
    <text>select   'x' pmd_analytical_partition_by, odf_ca_clr_key_metric.id odf_pk, odf_ca_clr_key_metric.clr_status as clr_status, odf_ca_clr_key_metric.clr_description as clr_description, odf_ca_clr_key_metric.code as code, odf_parent_id.odf_period_type as odf_period_type, odf_parent_id.odf_period_end as odf_period_end, CASE WHEN (odf_ca_clr_key_metric.target_metric*1.00)=0 THEN NULL ELSE (odf_ca_clr_key_metric.actual_metric*1.00)*100/(odf_ca_clr_key_metric.target_metric*1.00) END  as clr_pct_attain, odf_ca_clr_key_metric.target_metric as target_metric, odf_parent_id.odf_period_start as odf_period_start, odf_ca_clr_key_metric.last_updated_date as last_updated_date, odf_ca_clr_key_metric.clr_percent_complete as clr_percent_complete, odf_ca_clr_key_metric.vsm_target_date as vsm_target_date, odf_ca_clr_key_metric.vsm_actual_metric as vsm_actual_metric, odf_ca_clr_key_metric.actual_metric as actual_metric, (select audit_tmplt_created.full_name from (select full_name, user_id from srm_resources) audit_tmplt_created where audit_tmplt_created.user_id = odf_ca_clr_key_metric.created_by) as created_by, odf_ca_clr_key_metric.clr_target_date as clr_target_date, odf_ca_clr_key_metric.clr_metric_desc as clr_metric_desc, odf_ca_clr_key_metric.vsm_target_metric as vsm_target_metric, odf_ca_clr_key_metric.vsm_status as vsm_status, odf_ca_clr_key_metric.vsm_metric_desc as vsm_metric_desc, (select audit_tmplt_updated.full_name from (select full_name, user_id from srm_resources) audit_tmplt_updated where audit_tmplt_updated.user_id = odf_ca_clr_key_metric.last_updated_by) as updated_by, odf_ca_clr_key_metric.name as name, odf_ca_clr_key_metric.odf_parent_id as odf_parent_id, CASE WHEN (odf_ca_clr_key_metric.vsm_target_metric*1)=0 THEN NULL ELSE (odf_ca_clr_key_metric.vsm_actual_metric*1)*100/(odf_ca_clr_key_metric.vsm_target_metric*1) END  as vsm_pct_attain, odf_ca_clr_key_metric.created_date as created_date, odf_ca_clr_key_metric.partition_code as partition_code, odf_ca_clr_key_metric.odf_cncrt_parent_id as odf_cncrt_parent_id, odf_parent_id.odf_entity_code as odf_entity_code  from odf_ca_clr_key_metric odf_ca_clr_key_metric JOIN (select   'x' pmd_analytical_partition_by, inv_investments.id odf_pk, odf_ca_inv.odf_period_type as odf_period_type, odf_ca_inv.odf_period_start as odf_period_start, odf_ca_npiofinproperties.odf_entity_code as odf_entity_code, odf_ca_inv.odf_period_end as odf_period_end from inv_investments inv_investments JOIN odf_ca_inv odf_ca_inv ON odf_ca_inv.id=inv_investments.id JOIN pac_mnt_projects PAC_MNT_PROJECTS ON PAC_MNT_PROJECTS.id=inv_investments.id JOIN odf_ca_npiofinproperties odf_ca_npiofinproperties ON odf_ca_npiofinproperties.id=inv_investments.id join odf_object_instance_mapping oim1 on inv_investments.id = oim1.primary_object_instance_id  and oim1.primary_object_instance_code='clr_okr' join fin_financials fin_financials on oim1.secondary_object_instance_id = fin_financials.id and oim1.secondary_object_instance_code='financials' JOIN odf_ca_financials odf_ca_financials ON odf_ca_financials.id=FIN_FINANCIALS.id where 1 = 1 )  odf_parent_id ON odf_parent_id.odf_pk=odf_ca_clr_key_metric.odf_parent_id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
