<ClarityDBViewQuery>
  <QueryResult code="ODF_ODF_AGREEMENT_V2">
    <indexes/>
    <text_length>1840</text_length>
    <text>select   'x' pmd_analytical_partition_by, odf_agreements.id odf_pk, odf_ca_odf_agreement.clr_status as clr_status, odf_agreements.CODE as code, odf_ca_odf_agreement.odf_period_end as odf_period_end, odf_ca_odf_agreement.odf_period_type as odf_period_type, odf_agreements.DESCRIPTION as description, (SELECT CASE WHEN count(conv.id) > 0 THEN 1 ELSE 0 END FROM NMC_CONVERSATIONS conv WHERE conv.RESOURCE_NAME = 'odf_agreement' AND conv.RESOURCE_ID = ODF_AGREEMENTS.ID) as has_conversation, 'odf_agreement' as odf_obj_type, ODF_AGREEMENTS.COMMITMENT_DATE as commitment_date, odf_ca_odf_agreement.odf_period_start as odf_period_start, odf_ca_odf_agreement.clr_narrative as clr_narrative, ODF_AGREEMENTS.LAST_UPDATED_DATE as last_updated_date, odf_agreements.GET_WELL_PLAN as get_well_plan, odf_agreements.IS_ACTIVE as is_active, (NVL((SELECT 1 FROM DUAL WHERE EXISTS (SELECT 1 from NMC_CONVERSATIONS TC WHERE TC.RESOURCE_NAME='odf_agreement' AND TC.RESOURCE_ID = odf_agreements.id)), 0)) as has_conversations, CREATED.FULL_NAME as created_by, odf_agreements.ODF_BLUEPRINT_ID as odf_blueprint_id, ODF_AGREEMENTS.DEADLINE_DATE as deadline_date, odf_agreements.NAME as name, UPDATED.FULL_NAME as updated_by, NVL( odf_agreements.odf_blueprint_id, (select id from odf_blueprints b where b.type = NLS_UPPER('odf_agreement') and b.is_default = 1  ) ) as odf_blp_active_id, ODF_AGREEMENTS.CREATED_DATE as created_date, odf_ca_odf_agreement.partition_code as partition_code, odf_agreements.STATUS as status, odf_ca_odf_agreement.odf_entity_code as odf_entity_code  from odf_agreements odf_agreements JOIN srm_resources CREATED ON CREATED.user_id=odf_agreements.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=odf_agreements.last_updated_by JOIN odf_ca_odf_agreement odf_ca_odf_agreement ON odf_ca_odf_agreement.id=odf_agreements.id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
