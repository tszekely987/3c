<ClarityDBViewQuery>
  <QueryResult code="DWH_RDM_ROADMAP_ITEM_V">
    <indexes/>
    <text_length>5555</text_length>
    <text>select rdm_roadmap_items.id odf_pk, RDM_ROADMAP_ITEMS.ID as roadmap_item_key, RDM_ROADMAP_ITEMS.ID as clarity_roadmap_item_key, rdm_roadmap_items.ROADMAP_ID as roadmap_key, rdm_roadmap_items.SCENARIO_ID as scenario_key, rdm_roadmap_items.NAME as roadmap_item_name, rdm_roadmap_items.CODE as roadmap_item_id, rdm_roadmap_items.DESCRIPTION as description, rdm_roadmap_items.NOTE as note, rdm_roadmap_items.RANK as rank, rdm_roadmap_items.START_DATE as start_date, rdm_roadmap_items.FINISH_DATE as finish_date, RDM_ROADMAP_ITEMS.CREATED_DATE as clarity_created_date, GREATEST(RDM_ROADMAPS.LAST_UPDATED_DATE, RDM_ROADMAP_ITEMS.LAST_UPDATED_DATE) as clarity_updated_date, null as must_have_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'RDM_ROADMAP_ITEM_MUST_HAVE' and rownum = 1 and LOOKUP_CODE = null) as must_have_caption, rdm_roadmap_items.IN_PLAN as item_in_plan_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'RDM_ROADMAP_ITEM_IN_PLAN' and rownum = 1 and LOOKUP_ENUM = rdm_roadmap_items.IN_PLAN) as in_plan_caption, rdm_roadmap_items.STATUS as item_status_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'RDM_ROADMAP_ITEM_STATUS' and rownum = 1 and LOOKUP_CODE = rdm_roadmap_items.STATUS) as status_caption, rdm_roadmap_items.TYPE as item_type_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'RDM_ROADMAP_ITEM_TYPE' and rownum = 1 and LOOKUP_CODE = rdm_roadmap_items.TYPE) as type_caption, INVESTMENT.ID as linked_to_key, 
        INVESTMENT.NAME
      dwh_link_to_caption, NVL(OWNER.ID,0) as owner_key, 
        OWNER.FULL_NAME
      owner_caption, NVL(SPONSOR.ID,0) as sponsor_key, 
        SPONSOR.FULL_NAME
      sponsor_caption, (  select id from srm_resources where id = odf_ca_rdm_roadmap_item.clr_stakeholder )  as clr_stakeholder_key, (  select full_name from srm_resources where id = odf_ca_rdm_roadmap_item.clr_stakeholder ) clr_stakeholder_caption, odf_ca_rdm_roadmap_item.vsm_acp_storypts as vsm_acp_storypts, odf_ca_rdm_roadmap_item.vsm_acp_userstory as vsm_acp_userstory, odf_ca_rdm_roadmap_item.vsm_agl_act_finish as vsm_agl_act_finish, odf_ca_rdm_roadmap_item.vsm_agl_act_start as vsm_agl_act_start, odf_ca_rdm_roadmap_item.vsm_agl_inv_cat as vsm_agl_inv_cat, odf_ca_rdm_roadmap_item.vsm_agl_plan_finish as vsm_agl_plan_finish, odf_ca_rdm_roadmap_item.vsm_agl_plan_start as vsm_agl_plan_start, odf_ca_rdm_roadmap_item.vsm_agl_release as vsm_agl_release, odf_ca_rdm_roadmap_item.vsm_agl_risk_score as vsm_agl_risk_score, odf_ca_rdm_roadmap_item.vsm_agl_state as vsm_agl_state, odf_ca_rdm_roadmap_item.vsm_agl_value_score as vsm_agl_value_score, odf_ca_rdm_roadmap_item.vsm_capacity_type as vsm_capacity_type_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'VSM_CAPACITY_GUARDRAIL' and rownum = 1 and LOOKUP_CODE = odf_ca_rdm_roadmap_item.vsm_capacity_type) as vsm_capacity_type_caption, odf_ca_rdm_roadmap_item.vsm_delivery as vsm_delivery_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'VSM_VAL_STREAM_DELIVERY_TYPE' and rownum = 1 and LOOKUP_CODE = odf_ca_rdm_roadmap_item.vsm_delivery) as vsm_delivery_caption, odf_ca_rdm_roadmap_item.vsm_est_storypts as vsm_est_storypts, odf_ca_rdm_roadmap_item.vsm_est_userstory as vsm_est_userstory, DBMS_LOB.SUBSTR(CMN_GET_PLAIN_TEXT_FCT(odf_ca_rdm_roadmap_item.vsm_lean_bc), 1000, 1) as vsm_lean_bc, odf_ca_rdm_roadmap_item.vsm_pctdon_plan_est as vsm_pctdon_plan_est, odf_ca_rdm_roadmap_item.vsm_pctdon_storyct as vsm_pctdon_storyct, odf_ca_rdm_roadmap_item.vsm_pi_delivery_time as vsm_pi_delivery_time_key, (select NAME from cmn_lookups_v where language_code = dataw_context.language_code and lookup_type = 'VSM_PI_DELIVERY_TIMEFRAME' and rownum = 1 and LOOKUP_CODE = odf_ca_rdm_roadmap_item.vsm_pi_delivery_time) as vsm_pi_delivery_time_caption, odf_ca_rdm_roadmap_item.vsm_strategic_theme as vsm_strategic_theme_key, ( select  nquery.name from (SELECT  i.id AS id,
    i.name AS name,
    i.last_updated_date AS last_updated_date
FROM
ODF_CA_clr_okr okr
JOIN INV_INVESTMENTS i ON okr.id = i.ID          
    WHERE 
 1=1) nquery where nquery.id = odf_ca_rdm_roadmap_item.vsm_strategic_theme and rownum = 1)vsm_strategic_theme_caption, odf_ca_rdm_roadmap_item.vsm_tshirt_storypts as vsm_tshirt_storypts, odf_ca_rdm_roadmap_item.vsm_value_stream as vsm_value_stream_key, ( select  nquery.name from (SELECT  i.id AS id,
    i.name AS name,
    i.last_updated_date AS last_updated_date
    FROM INV_INVESTMENTS i
 JOIN odf_ca_valu_stream vs ON vs.id = i.ID            
    WHERE  1=1) nquery where nquery.id = odf_ca_rdm_roadmap_item.vsm_value_stream and rownum = 1)vsm_value_stream_caption, dataw_context.language_code, dataw_context.id language_id from rdm_roadmap_items rdm_roadmap_items inner join cmn_languages dataw_context on dataw_context.id = dataw_context.id  JOIN odf_ca_rdm_roadmap_item odf_ca_rdm_roadmap_item ON odf_ca_rdm_roadmap_item.id=rdm_roadmap_items.id JOIN rdm_roadmaps rdm_roadmaps ON rdm_roadmaps.id=rdm_roadmap_items.roadmap_id LEFT OUTER JOIN inv_investments INVESTMENT ON RDM_ROADMAP_ITEMS.linked_internal_id = INVESTMENT.ID LEFT OUTER JOIN srm_resources OWNER ON RDM_ROADMAP_ITEMS.owner = OWNER.ID LEFT OUTER JOIN srm_resources SPONSOR ON RDM_ROADMAP_ITEMS.sponsor = SPONSOR.ID  where 1 = 1 and dataw_context.is_dw_enabled=1</text>
  </QueryResult>
</ClarityDBViewQuery>
