<ClarityDBViewQuery>
  <QueryResult code="DWH_LOCATION_V">
    <indexes/>
    <text_length>789</text_length>
    <text>select locations.id odf_pk, LOCATIONS.ID as location_key, locations.LOCATIONID as location_id, locations.SHORTDESC as location, ENTITIES.ID as entity_key, NVL(LOCATIONS.ENTITY,'0') as entity_id, ENTITIES.SHORTDESC as entity, (
        CASE
        WHEN ENTITIES.CREATED_DATE IS NULL
          THEN LOCATIONS.CREATED_DATE
        ELSE
          GREATEST(LOCATIONS.CREATED_DATE, ENTITIES.CREATED_DATE)
        END
      ) as clarity_created_date, (
        CASE
        WHEN ENTITIES.LAST_UPDATED_DATE IS NULL
          THEN LOCATIONS.LAST_UPDATED_DATE
        ELSE
          GREATEST(LOCATIONS.LAST_UPDATED_DATE, ENTITIES.LAST_UPDATED_DATE)
        END
      ) as clarity_updated_date from locations locations LEFT OUTER JOIN entity ENTITIES ON LOCATIONS.ENTITY=ENTITIES.ENTITY  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
