<ClarityDBViewQuery>
  <QueryResult code="ODF_RELEASE_V2">
    <indexes/>
    <text_length>3311</text_length>
    <text>select   'x' pmd_analytical_partition_by, rqp_releases.id odf_pk, COALESCE((SELECT SUM(NVL(EST_CAP_COST,0)+NVL(EST_OP_COST,0)) FROM RQP_REQUIREMENTS WHERE RELEASE_ID = RQP_RELEASES.ID), NULL, 0) as rqp_est_ttl_cost, (SELECT CURRENCY_CODE FROM INV_INVESTMENTS WHERE ID = RQP_RELEASES.INVESTMENT_ID) as rqp_currency_code, (SELECT SUM(NVL(EST_OP_COST,0)) FROM RQP_REQUIREMENTS WHERE RELEASE_ID = RQP_RELEASES.ID) as rqp_est_op_cost, (select name from inv_investments where id = ASSOC_PRJ_PRG_ID) as rqp_assocprj_name, rqp_releases.MILESTONE_5 as rqp_milestone_5, odf_ca_release.odf_period_end as odf_period_end, odf_ca_release.odf_period_type as odf_period_type, rqp_releases.MILESTONE_3 as rqp_milestone_3, rqp_releases.MILESTONE_4 as rqp_milestone_4, rqp_releases.NAME as rqp_name, rqp_releases.STATUS as rqp_status, rqp_releases.MILESTONE_1 as rqp_milestone_1, rqp_releases.MILESTONE_2 as rqp_milestone_2, rqp_releases.CODE as rqp_instance_code, (case when status = 'APPROVED' then 1 else 0 end) as rqp_is_approved, rqp_releases.ASSOC_PRJ_PRG_ID as rqp_assoc_prj_prg, rqp_releases.HIGHLIGHTS as rqp_highlights, odf_ca_release.odf_period_start as odf_period_start, rqp_releases.BGT_SIZE as rqp_bgt_size, ( SELECT P.PAGE_CODE FROM CMN_PAGES P WHERE P.ID in
            (SELECT CASE WHEN CMN_PAGES.PRINCIPAL_TYPE = 'SYSTEM' THEN CMN_PAGES.ID
                    ELSE NVL(CMN_PAGES.ORIGINATING_PAGE_ID,CMN_PAGES.ID) END
          FROM CMN_INSTANCE_PAGES, CMN_PAGES
          WHERE CMN_INSTANCE_PAGES.PAGE_FRAME_ID = CMN_PAGES.ID
              AND CMN_INSTANCE_PAGES.OBJECT_TYPE = 'RQP_RELEASE'
              AND CMN_INSTANCE_PAGES.OBJECT_INSTANCE_ID = RQP_RELEASES.ID
            )
          ) as page_layout, RQP_RELEASES.LAST_UPDATED_DATE as last_updated_date, rqp_releases.TYPE as rqp_type, rqp_releases.END_DATE as rqp_end_date, (NVL(BGT_CAP_COST,0)+NVL(BGT_OP_COST,0)) as rqp_bgt_ttl_cost, rqp_releases.INVESTMENT_ID as rqp_investment, rqp_releases.BGT_OP_COST as rqp_bgt_op_cost, CREATED.FULL_NAME as created_by, (SELECT SUM(NVL(EST_CAP_COST,0)) FROM RQP_REQUIREMENTS WHERE RELEASE_ID = RQP_RELEASES.ID) as rqp_est_cap_cost, rqp_releases.MANAGER_ID as rqp_manager_id, (SELECT SUM(NVL(EST_SIZE,0)) FROM RQP_REQUIREMENTS WHERE RELEASE_ID = RQP_RELEASES.ID) as rqp_est_size, COALESCE((SELECT SUM(NVL(EST_EFFORT/PRJ_HPD_FACTOR_FCT(),0)) FROM RQP_REQUIREMENTS WHERE RELEASE_ID = RQP_RELEASES.ID), NULL, 0) as rqp_est_effort, rqp_releases.ATTACHMENT as rqp_attachment, rqp_releases.BGT_CAP_COST as rqp_bgt_cap_cost, UPDATED.FULL_NAME as updated_by, UPDATED.ID as updated_by_id, RQP_RELEASES.CREATED_DATE as created_date, CREATED.ID as created_by_id, odf_ca_release.partition_code as partition_code, rqp_releases.START_DATE as rqp_start_date, (SELECT  v.VALUE
        FROM    CMN_OPTIONS o, CMN_OPTION_VALUES v
        WHERE   o.ID = v.OPTION_ID AND v.USER_ID IS NULL
        AND     o.OPTION_CODE = 'PRJ_EFFORT_DISP_UNIT') as rqp_effort_units, (NVL(BGT_EFFORT/PRJ_HPD_FACTOR_FCT(),0)) as rqp_bgt_effort, odf_ca_release.odf_entity_code as odf_entity_code  from rqp_releases rqp_releases JOIN srm_resources CREATED ON CREATED.user_id=rqp_releases.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=rqp_releases.last_updated_by JOIN odf_ca_release odf_ca_release ON odf_ca_release.id=rqp_releases.id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
