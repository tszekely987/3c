<ClarityDBViewQuery>
  <QueryResult code="ODF_RDM_ROADMAP_V2">
    <indexes/>
    <text_length>3578</text_length>
    <text>select   'x' pmd_analytical_partition_by, rdm_roadmaps.id odf_pk, odf_ca_rdm_roadmap.clr_upd_linkedcit as clr_upd_linkedcit, rdm_roadmaps.CODE as code, odf_ca_rdm_roadmap.odf_period_end as odf_period_end, odf_ca_rdm_roadmap.odf_period_type as odf_period_type, rdm_roadmaps.DESCRIPTION as description, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, entity ent where  NLS_UPPER(poa.table_name) = NLS_UPPER('RDM_ROADMAP') and poa.record_id = RDM_ROADMAPS.ID and poa.unit_id = pou.id and pou.type_id = pot.id  and pot.id = ent.org_chart_obs_type_id ) as odf_obs_fin_dept, rdm_roadmaps.TYPE as type, 'rdm_roadmap' as odf_obj_type, rdm_roadmaps.DURATION as duration, odf_ca_rdm_roadmap.odf_period_start as odf_period_start, odf_ca_rdm_roadmap.agl_item_type as rego_agl_item_type, (SELECT BCPF.END_DATE
	        FROM ( SELECT periods.END_DATE,ROW_NUMBER() OVER (ORDER BY periods.START_DATE) AS ROW_NUMBER 
	               FROM BIZ_COM_PERIODS periods, 
	                    (select start_date from biz_com_periods where id = RDM_ROADMAPS.START_PERIOD) dates, 
	                    (select entity_id from biz_com_periods where id=rdm_roadmaps.start_period) entityid
	               WHERE periods.PERIOD_TYPE = 'ANNUALLY'
	                 AND periods.START_DATE >= dates.start_date
	                 and periods.entity_id=entityid.entity_id
	             ) BCPF
        WHERE BCPF.ROW_NUMBER = RDM_ROADMAPS.DURATION) as finish_date, odf_ca_rdm_roadmap.clr_vs_canvas as clr_vs_canvas, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, prj_obs_object_types poot where  NLS_UPPER(poa.table_name) = NLS_UPPER('RDM_ROADMAP') and poa.record_id = RDM_ROADMAPS.ID and poa.unit_id = pou.id and pou.type_id = pot.id   and pot.id = poot.type_id and NLS_UPPER(poa.table_name) = NLS_UPPER(poot.table_name) and NLS_UPPER(poot.assoc_att_code) = NLS_UPPER('odf_orga_n927041378') ) as odf_orga_n927041378, RDM_ROADMAPS.LAST_UPDATED_DATE as last_updated_date, odf_ca_rdm_roadmap.clr_vs_channels as clr_vs_channels, odf_ca_rdm_roadmap.clr_category as clr_category, (SELECT BCP.START_DATE FROM BIZ_COM_PERIODS BCP WHERE BCP.ID = RDM_ROADMAPS.START_PERIOD) as start_date, rdm_roadmaps.AUTHOR as author, (NVL((SELECT 1 FROM DUAL WHERE EXISTS (SELECT 1 from NMC_CONVERSATIONS TC WHERE TC.RESOURCE_NAME='rdm_roadmap' AND TC.RESOURCE_ID = rdm_roadmaps.id)), 0)) as has_conversations, rdm_roadmaps.START_PERIOD as start_period, CREATED.FULL_NAME as created_by, rdm_roadmaps.ODF_BLUEPRINT_ID as odf_blueprint_id, odf_ca_rdm_roadmap.clr_strategynarrativ as clr_strategynarrativ, odf_ca_rdm_roadmap.clr_vs_activities as clr_vs_activities, odf_ca_rdm_roadmap.clr_agile_push as clr_agile_push, rdm_roadmaps.NAME as name, UPDATED.FULL_NAME as updated_by, NVL( rdm_roadmaps.odf_blueprint_id, (select id from odf_blueprints b where b.type = NLS_UPPER('rdm_roadmap') and b.is_default = 1  ) ) as odf_blp_active_id, RDM_ROADMAPS.CREATED_DATE as created_date, odf_ca_rdm_roadmap.partition_code as partition_code, odf_ca_rdm_roadmap.clr_agile_sync as clr_agile_sync, odf_ca_rdm_roadmap.clr_executive as clr_executive, rdm_roadmaps.STATUS as status, odf_ca_rdm_roadmap.odf_entity_code as odf_entity_code, odf_ca_rdm_roadmap.sync_role_allocation as sync_role_allocation  from rdm_roadmaps rdm_roadmaps JOIN srm_resources CREATED ON CREATED.user_id=rdm_roadmaps.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=rdm_roadmaps.last_updated_by JOIN odf_ca_rdm_roadmap odf_ca_rdm_roadmap ON odf_ca_rdm_roadmap.id=rdm_roadmaps.id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
