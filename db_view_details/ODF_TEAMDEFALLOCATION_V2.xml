<ClarityDBViewQuery>
  <QueryResult code="ODF_TEAMDEFALLOCATION_V2">
    <indexes/>
    <text_length>1765</text_length>
    <text>select   'x' pmd_analytical_partition_by, team_def_allocations.id odf_pk, team_def_allocations.ALLOCATION allocation, (SELECT COUNT(1) FROM TEAM_DEF_ALLOCATIONS TDF WHERE TDF.RESOURCE_ID = TEAM_DEF_ALLOCATIONS.RESOURCE_ID) no_of_teams, SRM_RESOURCES.PERSON_TYPE employment_type, team_def_allocations.CODE code, SRM_RESOURCES.IS_ACTIVE is_active, concat(concat(RESOURCE_MGR.FIRST_NAME, ' '), RESOURCE_MGR.LAST_NAME) manager, PRJ_RESOURCES.PRPRIMARYROLEID primary_role, concat(concat(SRM_RESOURCES.FIRST_NAME, ' '), SRM_RESOURCES.LAST_NAME) team_member, (SELECT SUM(TDF.ALLOCATION) FROM TEAM_DEF_ALLOCATIONS TDF WHERE TDF.RESOURCE_ID = TEAM_DEF_ALLOCATIONS.RESOURCE_ID) total_allocation, team_def_allocations.team_def_id team_id, CREATED.FULL_NAME created_by, TEAM_DEFINITIONS.NAME team_name, UPDATED.FULL_NAME updated_by, team_def_allocations.RESOURCE_ID resource_id, team_def_allocations.team_def_id odf_parent_id, TEAM_DEF_ALLOCATIONS.CREATED_DATE created_date, odf_ca_teamdefallocation.partition_code partition_code, TEAM_DEF_ALLOCATIONS.LAST_UPDATED_DATE last_updated_date  from team_def_allocations team_def_allocations, team_definitions team_definitions, srm_resources srm_resources LEFT OUTER JOIN srm_resources RESOURCE_MGR ON SRM_RESOURCES.manager_id  = RESOURCE_MGR.USER_ID, prj_resources prj_resources, srm_resources CREATED, srm_resources UPDATED, odf_ca_teamdefallocation odf_ca_teamdefallocation  where 1 = 1 and team_def_allocations.team_def_id = team_definitions.id and team_def_allocations.resource_id = srm_resources.id and team_def_allocations.resource_id = prj_resources.prid and team_def_allocations.created_by = CREATED.user_id and team_def_allocations.last_updated_by = UPDATED.user_id and team_def_allocations.id = odf_ca_teamdefallocation.id</text>
  </QueryResult>
</ClarityDBViewQuery>
