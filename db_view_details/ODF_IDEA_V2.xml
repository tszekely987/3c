<ClarityDBViewQuery>
  <QueryResult code="ODF_IDEA_V2">
    <indexes/>
    <text_length>22324</text_length>
    <text>select   'x' pmd_analytical_partition_by, inv_investments.id odf_pk, fin_financials.is_sys_val_for_tcc as is_sys_val_for_tcc, fin_financials.FORECAST_MIRR as forecast_mirr, fin_financials.PLANNED_CST_OPERATING_TOTAL as planned_cst_operating_total, fin_financials.FORECAST_BENEFIT as forecast_benefit, odf_ca_idea.obj_objective as obj_objective, fin_financials.FORECAST_CST_TOTAL as forecast_cst_total, fin_financials.PLANNED_BEN_START as planned_ben_start, PAC_MNT_PROJECTS.APPROVED as approved, inv_investments.RCF_HUMAN_INTERFACE as inv_rcf_human_intrf, inv_ideas.CONVERSION_DATE as conversion_date, inv_investments.STATUS_INDICATOR as status_indicator, fin_financials.FORECAST_BREAKEVEN as forecast_breakeven, inv_investments.code as unique_code, PAC_MNT_PROJECTS.TRANSRATESOURCEMATERIALS as trans_rate_mtl_src, fin_financials.BUDGET_NPV as budget_npv, PAC_MNT_PROJECTS.BILLING_CURRENCY_CODE as bill_currency_code, fin_financials.PLANNED_COST_CAPITAL as plan_cost_cap, fin_financials.BUDGET_ACTUAL_BENEFIT as budget_actual_benefit, inv_investments.RCF_SPONSORSHIP as inv_rcf_sponsorship, inv_ideas.IMPACT as impact, fin_financials.FORECAST_CST_CAPITAL as fcst_cst_cap, fin_financials.total_cost_of_capital as override_val_for_tcc, fin_financials.BUDGET_CST_FINISH as budget_cst_finish, fin_financials.BUDGET_MIRR as budget_mirr, INV_INVESTMENTS.odf_object_code as investment_type, inv_investments.labor_etc_curve as labor_etc, PAC_MNT_PROJECTS.MASTER_PROJECT_CODE as master_project_code, UPDATED.FULL_NAME as updated_by, inv_investments.STAGE_CODE as stage_code, odf_ca_inv.obj_align_factor2 as obj_align_factor2, odf_ca_inv.obj_align_factor1 as obj_align_factor1, PAC_MNT_PROJECTS.MATERIALS_EXCHANGE_RATE_TYPE as mtl_xchg_rate_type, UPDATED.ID as updated_by_id, odf_ca_inv.obj_align_factor4 as obj_align_factor4, odf_ca_inv.obj_align_factor3 as obj_align_factor3, (SELECT bp.NAME FROM INV_INVESTMENTS bp WHERE bp.ID = INV_INVESTMENTS.ODF_TEMPLATE_ID) as odf_template_name, odf_ca_inv.obj_align_factor6 as obj_align_factor6, odf_ca_inv.obj_align_factor5 as obj_align_factor5, fin_financials.BUDGET_REV_FINISH as budget_rev_finish, (
          SELECT LISTAGG( value , ', ') WITHIN GROUP (ORDER BY value)  FROM
          (

            select  omvl2.value
            from
            odf_multi_valued_lookups omvl
            inner join inv_investments inv on inv.ODF_OBJECT_CODE || ':' || inv.id = omvl.value and omvl.object = 'odf_agreement'
            and omvl.attribute = 'successors'
            inner join odf_multi_valued_lookups omvl2 on omvl2.pk_id = omvl.pk_id and omvl2.object = 'odf_agreement' and omvl2.attribute = 'predecessors'
            where
            inv.id = INV_INVESTMENTS.ID
            FETCH NEXT 25 ROWS ONLY
          )
        ) as invagmntpredecessors, odf_ca_inv.obj_int_lastsync_sts as obj_int_lastsync_sts, odf_ca_inv.odf_period_type as odf_period_type, fin_financials.BUDGET_CST_CAPITAL_TOTAL as budget_cst_capital_total, PAC_MNT_PROJECTS.PROJECT_CODE as npio_code, fin_financials.FORECAST_CST_OPERATING as fcst_cst_op, fin_financials.FORECAST_ROI as forecast_roi, fin_financials.IS_CALC_PV_INFO as is_calc_pv_info, PAC_MNT_PROJECTS.TRANSRATESOURCELABOR as trans_rate_lbr_src, odf_ca_inv.odf_period_start as odf_period_start, odf_ca_idea.obj_request_category as obj_request_category, inv_investments.MANAGER_ID as manager_id, ( SELECT CASE CMN_PAGES.PRINCIPAL_TYPE WHEN 'SYSTEM' THEN CMN_PAGES.ID ELSE
          NVL(CMN_PAGES.ORIGINATING_PAGE_ID,CMN_PAGES.ID) END
          FROM CMN_INSTANCE_PAGES, CMN_PAGES
          WHERE CMN_INSTANCE_PAGES.PAGE_FRAME_ID = CMN_PAGES.ID
          AND CMN_INSTANCE_PAGES.OBJECT_INSTANCE_ID = INV_INVESTMENTS.ID
          AND CMN_INSTANCE_PAGES.OBJECT_TYPE = 'INV_IDEA' ) as page_layout, odf_ca_inv.obj_int_format_id as obj_int_format_id, inv_investments.labor_variance_curve as labor_variance, INV_INVESTMENTS.MANAGER_ID as manager, fin_financials.PLANNED_CST_CAPITAL_TOTAL as planned_cst_capital_total, fin_financials.PLANNED_CST_TOTAL as planned_cst_total, PAC_MNT_PROJECTS.TRANSRATESOURCEEQUIPMENT as trans_rate_eqp_src, inv_investments.STATUS_COMMENT as status_comment, fin_financials.PLANNED_COST as plan_cost, (case when inv_investments.schedule_start is not null and inv_investments.schedule_finish is not null THEN
        (NVL(INV_INVESTMENTS.LABOR_EACSUM,0) / 3600 / PRJ_HPD_FACTOR_FCT())
    ELSE 0 end) as labor_eacsum, inv_ideas.EST_FINISH_DATE as est_finish_date, PAC_MNT_PROJECTS.TRANSCOSTSOURCEEXPENSES as trans_cost_exp_src, PAC_MNT_PROJECTS.WIPCLASS as wip_class, inv_investments.RCF_IMPLEMENTATION as inv_rcf_impl, inv_ideas.EST_COST as est_cost, inv_investments.PROGRESS as progress, fin_financials.PLANNED_ROI as planned_roi, fin_financials.PLANNED_BEN_FINISH as planned_ben_finish, PAC_MNT_PROJECTS.DEPARTCODE as department_code, fin_financials.PLANNED_COST_OPERATING as plan_cost_op, PAC_MNT_PROJECTS.TRANSRATESOURCEEXPENSES as trans_rate_exp_src, inv_investments.GOAL_CODE as goal_code, inv_investments.schedule_finish as schedule_finish, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, entity ent where  NLS_UPPER(poa.table_name) = NLS_UPPER('INV_IDEA') and poa.record_id = INV_INVESTMENTS.ID and poa.unit_id = pou.id and pou.type_id = pot.id  and pot.id = ent.org_chart_obs_type_id ) as odf_obs_fin_dept, inv_investments.RCF_FUNDING as inv_rcf_funding, fin_financials.BUDGET_IRR as budget_irr, inv_investments.SLA_COMPLIANCE as sla_compliance, NVL(INV_INVESTMENTS.PURGE_FLAG,0) as purge_flag, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, prj_obs_object_types poot where  NLS_UPPER(poa.table_name) = NLS_UPPER('INV_IDEA') and poa.record_id = INV_INVESTMENTS.ID and poa.unit_id = pou.id and pou.type_id = pot.id   and pot.id = poot.type_id and NLS_UPPER(poa.table_name) = NLS_UPPER(poot.table_name) and NLS_UPPER(poot.assoc_att_code) = NLS_UPPER('odf_orga_n927041378') ) as odf_orga_n927041378, (SELECT COUNT(1) FROM DUAL WHERE EXISTS (SELECT 1 FROM odf_multi_valued_lookups WHERE object = 'odf_agreement' AND attribute IN (
	    'successors' , 'predecessors' ) AND value = CONCAT(CONCAT(INV_INVESTMENTS.ODF_OBJECT_CODE,':'),INV_INVESTMENTS.id))) as inv_has_agreements, inv_investments.schedule_start as schedule_start, PAC_MNT_PROJECTS.EXPENSE_EXCHANGE_RATE_TYPE as exp_xchg_rate_type, (NVL((SELECT 1 FROM DUAL WHERE EXISTS (SELECT 1 from NMC_CONVERSATIONS TC WHERE TC.RESOURCE_NAME='idea' AND TC.RESOURCE_ID = inv_investments.id)), 0)) as has_conversations, odf_ca_idea.obj_business_owner as obj_business_owner, inv_investments.ASSGN_POOL as assgn_pool, inv_ideas.TARGET_MANAGER_ID as target_manager_id, CREATED.FULL_NAME as created_by, (SELECT count(id) FROM cmn_lookups_v WHERE parent_lookup_code = INV_INVESTMENTS.process_code AND is_active = 1 AND language_code = 'en') as stage_count, inv_investments.labor_hard_alloc_curve as labor_hard_alloc, inv_investments.RCF_INTERDEPENDENCY as inv_rcf_interdepend, (case when inv_investments.schedule_start is not null and inv_investments.schedule_finish is not null
          THEN (NVL(INV_INVESTMENTS.LABOR_VARIANCESUM,0) / 3600 / PRJ_HPD_FACTOR_FCT())
          ELSE 0
        end) as labor_variancesum, inv_investments.parent_id as odf_assoc_parent, fin_financials.ACTUAL_CST_CAPITAL as actual_cst_cap, inv_investments.name as name, (CASE WHEN (nvl2((odf_ca_inv.obj_align_factor1*1),1,0)+nvl2((odf_ca_inv.obj_align_factor2*1),1,0)+nvl2((odf_ca_inv.obj_align_factor3*1),1,0)+nvl2((odf_ca_inv.obj_align_factor4*1),1,0)+nvl2((odf_ca_inv.obj_align_factor5*1),1,0)+nvl2((odf_ca_inv.obj_align_factor6*1),1,0))=0 THEN NULL ELSE (nvl((odf_ca_inv.obj_align_factor1*1),0)+nvl((odf_ca_inv.obj_align_factor2*1),0)+nvl((odf_ca_inv.obj_align_factor3*1),0)+nvl((odf_ca_inv.obj_align_factor4*1),0)+nvl((odf_ca_inv.obj_align_factor5*1),0)+nvl((odf_ca_inv.obj_align_factor6*1),0))/(nvl2((odf_ca_inv.obj_align_factor1*1),1,0)+nvl2((odf_ca_inv.obj_align_factor2*1),1,0)+nvl2((odf_ca_inv.obj_align_factor3*1),1,0)+nvl2((odf_ca_inv.obj_align_factor4*1),1,0)+nvl2((odf_ca_inv.obj_align_factor5*1),1,0)+nvl2((odf_ca_inv.obj_align_factor6*1),1,0)) END ) as obj_alignment, inv_investments.ALIGNMENT as alignment, (
        SELECT LISTAGG( value , ', ') WITHIN GROUP (ORDER BY value)  FROM
        (
          select  omvl2.value
          from
          odf_multi_valued_lookups omvl
          inner join inv_investments inv on inv.ODF_OBJECT_CODE || ':' || inv.id = omvl.value and omvl.object = 'odf_agreement'
          and omvl.attribute = 'predecessors'
          inner join odf_multi_valued_lookups omvl2 on omvl2.pk_id = omvl.pk_id and omvl2.object = 'odf_agreement' and omvl2.attribute = 'successors'
          where
          inv.id = INV_INVESTMENTS.ID
          FETCH NEXT 25 ROWS ONLY
          )
        ) as invagmntsuccessors, NVL((SELECT count(ID) FROM cmn_lookups_v WHERE parent_lookup_code = INV_INVESTMENTS.process_code AND language_code = 'en' AND IS_ACTIVE = 1 AND SORT_ORDER &lt;= (select sort_order from cmn_lookups_v WHERE lookup_code = INV_INVESTMENTS.stage_code AND lookup_type='INV_STAGE_TYPE' AND language_code = 'en')),0) as stage_number, inv_investments.description as description, (SELECT COUNT(1) FROM DUAL WHERE EXISTS (SELECT PRID FROM PRTEAM WHERE PRTEAM.PRPROJECTID = INV_INVESTMENTS.ID)) as has_staff, fin_financials.BUDGET_REV_START as budget_rev_start, inv_investments.CI_STAGE as ci_stage, odf_ca_inv.vsm_lean_bc as vsm_lean_bc, fin_financials.PLANNED_PAYBACK_PERIOD as planned_payback_period, PAC_MNT_PROJECTS.LOCATIONID as location_code, PAC_MNT_PROJECTS.TRANSCOSTSOURCEEQUIPMENT as trans_cost_eqp_src, fin_financials.BUDGET_CST_TOTAL as budget_cst_total, inv_investments.SYNC_INV_N_BDG_DATES as sync_inv_n_bdg_dates, fin_financials.FORECAST_CST_START as forecast_cst_start, (select reinvestment_rate from prsite) as system_value_for_rr, fin_financials.ACTUAL_CST as actual_cst, ((NVL(INV_INVESTMENTS.LABOR_ETCSUM,0) + NVL(INV_INVESTMENTS.LABOR_ACTSUM,0)) / 3600 / PRJ_HPD_FACTOR_FCT()) as labor_effort, inv_investments.track_mode as trackmode, (CASE WHEN (nvl2((inv_investments.RCF_FLEXIBILITY*1),1,0)+nvl2((inv_investments.RCF_FUNDING*1),1,0)+nvl2((inv_investments.RCF_HUMAN_INTERFACE*1),1,0)+nvl2((inv_investments.RCF_IMPLEMENTATION*1),1,0)+nvl2((inv_investments.RCF_INTERDEPENDENCY*1),1,0)+nvl2((inv_investments.RCF_OBJECTIVES*1),1,0)+nvl2((inv_investments.RCF_ORG_CULTURE*1),1,0)+nvl2((inv_investments.RCF_RESOURCE_AVAIL*1),1,0)+nvl2((inv_investments.RCF_SPONSORSHIP*1),1,0)+nvl2((inv_investments.RCF_SUPPORTABILITY*1),1,0)+nvl2((inv_investments.RCF_TECHNICAL*1),1,0))=0 THEN NULL ELSE (nvl((inv_investments.RCF_FLEXIBILITY*1),0)+nvl((inv_investments.RCF_FUNDING*1),0)+nvl((inv_investments.RCF_HUMAN_INTERFACE*1),0)+nvl((inv_investments.RCF_IMPLEMENTATION*1),0)+nvl((inv_investments.RCF_INTERDEPENDENCY*1),0)+nvl((inv_investments.RCF_OBJECTIVES*1),0)+nvl((inv_investments.RCF_ORG_CULTURE*1),0)+nvl((inv_investments.RCF_RESOURCE_AVAIL*1),0)+nvl((inv_investments.RCF_SPONSORSHIP*1),0)+nvl((inv_investments.RCF_SUPPORTABILITY*1),0)+nvl((inv_investments.RCF_TECHNICAL*1),0))/(nvl2((inv_investments.RCF_FLEXIBILITY*1),1,0)+nvl2((inv_investments.RCF_FUNDING*1),1,0)+nvl2((inv_investments.RCF_HUMAN_INTERFACE*1),1,0)+nvl2((inv_investments.RCF_IMPLEMENTATION*1),1,0)+nvl2((inv_investments.RCF_INTERDEPENDENCY*1),1,0)+nvl2((inv_investments.RCF_OBJECTIVES*1),1,0)+nvl2((inv_investments.RCF_ORG_CULTURE*1),1,0)+nvl2((inv_investments.RCF_RESOURCE_AVAIL*1),1,0)+nvl2((inv_investments.RCF_SPONSORSHIP*1),1,0)+nvl2((inv_investments.RCF_SUPPORTABILITY*1),1,0)+nvl2((inv_investments.RCF_TECHNICAL*1),1,0)) END ) as risk_score, inv_investments.RSF_OBS_UNIT as rsf_obs_unit, inv_investments.RCF_TECHNICAL as inv_rcf_technical, odf_ca_inv.obj_int_mappings as obj_int_mappings, fin_financials.FORECAST_CST_FINISH as forecast_cst_finish, fin_financials.BUDGET_BENEFIT as budget_benefit, fin_financials.IS_FCST_EQ_BDGT as is_fcst_eq_bdgt, fin_financials.FORECAST_REV_TOTAL as forecast_rev_total, inv_investments.ODF_BLUEPRINT_ID as odf_blueprint_id, PAC_MNT_PROJECTS.STATUS as npio_status, (SELECT INV.ODF_OBJECT_CODE
          FROM INV_INVESTMENTS INV, ODF_OBJECTS O
          WHERE INV.ID = INV_INVESTMENTS.PARENT_ID
          AND INV.ODF_OBJECT_CODE = O.CODE) as parent_type_code, odf_ca_inv.obj_int_lastsync_msg as obj_int_lastsync_msg, inv_ideas.EST_TYPE as est_type, odf_ca_inv.odf_asr_template as odf_asr_template, inv_investments.ODF_TEMPLATE as odf_template, inv_ideas.BUS_UNIT as bus_unit, (SELECT
            CASE WHEN NVL(F.BUDGET_CST_TOTAL,0) > 0
              THEN NVL(F.BUDGET_CST_OPERATING_TOTAL,0) / F.BUDGET_CST_TOTAL
              ELSE NULL END
        FROM FIN_FINANCIALS F 
        WHERE F.ID = FIN_FINANCIALS.ID) as budget_cst_operating_pct, (CASE WHEN INV_INVESTMENTS.STATUS = 1 THEN 1 WHEN INV_INVESTMENTS.STATUS = 5 THEN 1 WHEN INV_INVESTMENTS.STATUS = 8 THEN 1 ELSE 0 END) as is_approved, odf_ca_idea.clr_solution as clr_solution, inv_investments.RISK as risk, odf_ca_idea.partition_code as partition_code, (NVL(INV_INVESTMENTS.LABOR_BASESUM,0) / 3600 / PRJ_HPD_FACTOR_FCT()) as labor_basesum, fin_financials.PLANNED_ACTUAL_BENEFIT as plan_actual_benefit, odf_ca_financials.odf_entity_code as odf_entity_code, inv_investments.APPROVEDBY_ID as approvedby_id, (SELECT ix.NAME FROM INV_INVESTMENTS ix WHERE ix.ID = INV_INVESTMENTS.IDEA_ID) as idea_name, (SELECT
            CASE WHEN NVL(F.BUDGET_CST_TOTAL,0) > 0
              THEN NVL(F.BUDGET_CST_CAPITAL_TOTAL,0) / F.BUDGET_CST_TOTAL
              ELSE NULL END
        FROM FIN_FINANCIALS F 
        WHERE F.ID = FIN_FINANCIALS.ID) as budget_cst_capital_pct, inv_investments.RCF_FLEXIBILITY as inv_rcf_flexibility, odf_ca_inv.clr_cofund_currency as clr_cofund_currency, fin_financials.FORECAST_COST as forecast_cost, GREATEST(coalesce((fin_financials.PLANNED_CST_TOTAL*1),coalesce((fin_financials.PLANNED_CST_TOTAL*1),(0.0*1))),coalesce((0.0*1),coalesce((fin_financials.PLANNED_CST_TOTAL*1),(0.0*1)))) as cps_plan_cost_proc, inv_investments.IS_CUSTOM as is_custom, fin_financials.FORECAST_REV_FINISH as forecast_rev_finish, fin_financials.BUDGET_CST_OPERATING_TOTAL as budget_cst_operating_total, PAC_MNT_PROJECTS.TRANSCOSTSOURCEMATERIALS as trans_cost_mtl_src, (case when inv_investments.schedule_start is not null and inv_investments.schedule_finish is not null THEN
        (NVL(INV_INVESTMENTS.LABOR_ACTSUM,0) / 3600 / PRJ_HPD_FACTOR_FCT())
    ELSE 0 end) as labor_actsum, odf_ca_inv.odf_asr_reports as odf_asr_reports, odf_ca_inv.clr_go_live as clr_go_live, fin_financials.BUDGET_COST_OPERATING as budget_cost_op, (case when inv_investments.schedule_start is not null and inv_investments.schedule_finish is not null THEN
        (NVL(INV_INVESTMENTS.LABOR_ETCSUM,0) / 3600 / PRJ_HPD_FACTOR_FCT())
    ELSE 0 end) as labor_etcsum, fin_financials.BUDGET_COST as budget_cost, inv_ideas.EST_START_DATE as est_start_date, inv_investments.priority as priority, (SELECT e.ID FROM ENTITY e WHERE e.ENTITY = INV_INVESTMENTS.ENTITY_CODE) as entity_id, (select I.odf_object_code from ODF_CA_INV I where I.id = INV_INVESTMENTS.PARENT_ID) as parent_type, inv_ideas.DEPENDENCIES as dependencies, odf_ca_inv.clr_cofund as clr_cofund, odf_ca_inv.obj_pfl_category1 as obj_pfl_category1, odf_ca_inv.obj_pfl_category2 as obj_pfl_category2, inv_investments.labor_act_curve as labor_act, inv_ideas.INITIATOR_ID as initiator_id, inv_investments.labor_alloc_curve as labor_alloc, odf_ca_inv.obj_pfl_category3 as obj_pfl_category3, fin_financials.BUDGET_ROI as budget_roi, odf_ca_inv.obj_pfl_category4 as obj_pfl_category4, NVL(inv_investments.odf_blueprint_id, (select id from odf_blueprints b where b.type = NLS_UPPER(inv_investments.odf_object_code) and b.is_default = 1)) as odf_blp_active_id, inv_ideas.PRIORITY as ideapriority, ( select count('x')
          from INV_INVESTMENTS bpInv, INV_PROJECTS ivp
          where INV_INVESTMENTS.ODF_OBJECT_CODE = 'project'
          and INV_INVESTMENTS.id = ivp.prid
          and ivp.is_template = 1
          and bpInv.odf_template_id = INV_INVESTMENTS.id ) as odf_invs_using_tmplt, fin_financials.PLANNED_BENEFIT as plan_benefit, fin_financials.PLANNED_BEN_TOTAL as planned_ben_total, (NVL((select fin_financials.planned_cst_total
        from fin_financials, odf_object_instance_mapping
        where odf_object_instance_mapping.primary_object_instance_id = inv_investments.id
        and odf_object_instance_mapping.secondary_object_instance_id = fin_financials.id
    and odf_object_instance_mapping.primary_object_instance_code = inv_investments.odf_object_code
    and odf_object_instance_mapping.secondary_object_instance_code = 'financials'  ), 0))
    -(NVL((SELECT SUM(b.totalcost) FROM ppa_wip a, ppa_wip_values
        b WHERE a.transno = b.transno AND b.currency_type = 'HOME'
        and a.status = 0
    AND a.investment_id = inv_investments.id GROUP BY
        a.investment_id),0)) as cost_variance, inv_investments.STATUS as status, fin_financials.BUDGET_BREAKEVEN as budget_breakeven, inv_investments.CURRENCY_CODE as currency_code, odf_ca_idea.obj_request_type as obj_request_type, fin_financials.PLANNED_NPV as planned_npv, inv_ideas.EST_BENEFIT as est_benefit, inv_investments.labor_baseline_curve as labor_base, odf_ca_inv.odf_object_code as odf_object_code, inv_investments.IS_ACTIVE as is_active, (select total_cost_of_capital from prsite) as system_value_for_tcc, PAC_MNT_PROJECTS.TRANSCOSTSOURCELABOR as trans_cost_lbr_src, fin_financials.PLANNED_MIRR as planned_mirr, fin_financials.PLANNED_CST_START as planned_cst_start, inv_investments.RCF_ORG_CULTURE as inv_rcf_org_culture, fin_financials.FORECAST_NPV as forecast_npv, inv_ideas.BENEFIT_DESC as benefit_desc, odf_ca_idea.clr_unique_value as clr_unique_value, (SELECT
            CASE WHEN NVL(F.PLANNED_CST_TOTAL,0) > 0
              THEN NVL(F.PLANNED_CST_CAPITAL_TOTAL,0) / F.PLANNED_CST_TOTAL
              ELSE NULL END
        FROM FIN_FINANCIALS F 
        WHERE F.ID = FIN_FINANCIALS.ID) as planned_cst_capital_pct, fin_financials.PLANNED_CST_FINISH as planned_cst_finish, inv_investments.entity_code as entity, PAC_MNT_PROJECTS.EQUIPMENT_EXCHANGE_RATE_TYPE as eqp_xchg_rate_type, fin_financials.BUDGET_COST_CAPITAL as budget_cost_cap, PAC_MNT_PROJECTS.COST_TYPE as cost_type, (SELECT
          CASE WHEN NVL(F.PLANNED_CST_TOTAL,0) > 0
              THEN NVL(F.PLANNED_CST_OPERATING_TOTAL,0) / F.PLANNED_CST_TOTAL
              ELSE NULL END
        FROM FIN_FINANCIALS F 
        WHERE F.ID = FIN_FINANCIALS.ID) as planned_cst_operating_pct, inv_investments.labor_eac_curve as labor_eac, odf_ca_idea.clr_problem as clr_problem, fin_financials.BUDGET_PAYBACK_PERIOD as budget_payback_period, inv_investments.cbk_type as cbk_type, inv_investments.ODF_TEMPLATE_ID as odf_template_id, fin_financials.FORECAST_PAYBACK_PERIOD as forecast_payback_period, PAC_MNT_PROJECTS.CLASS as investment_class, inv_investments.RCF_OBJECTIVES as inv_rcf_objectives, PAC_MNT_PROJECTS.LABOR_EXCHANGE_RATE_TYPE as lbr_xchg_rate_type, odf_ca_inv.obj_work_status as obj_work_status, inv_investments.IDEA_ID as idea_id, inv_investments.CI_PROGRESS as ci_progress, fin_financials.ACTUAL_CST_OPERATING as actual_cst_op, fin_financials.FORECAST_CST as fcst_cst, inv_investments.RCF_SUPPORTABILITY as inv_rcf_support, CREATED.ID as created_by_id, fin_financials.BUDGET_REV_TOTAL as budget_rev_total, fin_financials.PLANNED_IRR as planned_irr, inv_investments.is_open_for_te as isopen, inv_investments.RCF_RESOURCE_AVAIL as inv_rcf_res_avail, odf_ca_inv.odf_period_end as odf_period_end, inv_investments.TRACK_ASSGN_ONLY as track_assgn_only, (SELECT NVL(SUM (b.totalcost), 0) FROM ppa_wip a, ppa_wip_values b
         WHERE a.transno = b.transno AND b.currency_type = 'HOME'
        AND a.status = 0
        AND a.investment_id = inv_investments.id GROUP BY a.investment_id) as aggr_actual_cost, fin_financials.is_sys_val_for_rr as is_sys_val_for_rr, 'idea' as odf_obj_type, inv_investments.APPROVEDTIME as approvedtime, odf_ca_idea.clr_unfair_advantage as clr_unfair_advantage, PAC_MNT_PROJECTS.TYPE_ as inv_fin_type, fin_financials.Initial_Investment as initial_investment, inv_investments.IS_REQUIRED as is_required, inv_investments.BASELINE_ID as baseline_id, fin_financials.reinvestment_rate as override_val_for_rr, INV_INVESTMENTS.LAST_UPDATED_DATE as last_updated_date, INV_INVESTMENTS.odf_object_code as inv_type, fin_financials.BUDGET_CST_START as budget_cst_start, fin_financials.FORECAST_IRR as forecast_irr, inv_investments.chargecodeid as chargecodeid, odf_ca_idea.obj_fast_track as obj_fast_track, inv_ideas.RISKS as risks, fin_financials.PLANNED_BREAKEVEN as planned_breakeven, ( select max(bpInv.created_date)
          from INV_INVESTMENTS bpInv, INV_PROJECTS ivp
          where INV_INVESTMENTS.ODF_OBJECT_CODE = 'project'
          and INV_INVESTMENTS.id = ivp.prid
          and ivp.is_template = 1
          and bpInv.odf_template_id = INV_INVESTMENTS.id ) as odf_tmplt_last_used, odf_ca_inv.obj_int_ext_object as obj_int_ext_object, inv_investments.bill_expense_type as bill_expense_type, inv_ideas.BREAKEVEN_DATE as breakeven_date, INV_INVESTMENTS.CREATED_DATE as created_date, odf_ca_inv.obj_int_source as obj_int_source, inv_ideas.GENERAL_NOTES as general_notes, fin_financials.FORECAST_REV_START as forecast_rev_start  from inv_investments inv_investments JOIN odf_ca_npiofinproperties odf_ca_npiofinproperties ON odf_ca_npiofinproperties.id=inv_investments.id JOIN pac_mnt_projects PAC_MNT_PROJECTS ON PAC_MNT_PROJECTS.id=inv_investments.id JOIN inv_ideas inv_ideas ON inv_ideas.id=inv_investments.id JOIN srm_resources CREATED ON CREATED.user_id=inv_investments.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=inv_investments.last_updated_by JOIN odf_ca_inv odf_ca_inv ON odf_ca_inv.id=inv_investments.id join odf_object_instance_mapping oim1 on inv_investments.id = oim1.primary_object_instance_id  and oim1.primary_object_instance_code='idea' join fin_financials fin_financials on oim1.secondary_object_instance_id = fin_financials.id and oim1.secondary_object_instance_code='financials' JOIN odf_ca_financials odf_ca_financials ON odf_ca_financials.id=FIN_FINANCIALS.id JOIN odf_ca_idea odf_ca_idea ON odf_ca_idea.id=inv_investments.id  where 1 = 1 and odf_ca_inv.odf_object_code = 'idea'</text>
  </QueryResult>
</ClarityDBViewQuery>
