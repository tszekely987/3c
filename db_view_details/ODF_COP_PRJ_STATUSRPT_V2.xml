<ClarityDBViewQuery>
  <QueryResult code="ODF_COP_PRJ_STATUSRPT_V2">
    <indexes/>
    <text_length>6150</text_length>
    <text>select   'x' pmd_analytical_partition_by, odf_ca_cop_prj_statusrpt.id odf_pk, odf_ca_cop_prj_statusrpt.code as code, (SELECT 1 AS COP_IS_LATEST FROM DUAL WHERE ODF_CA_COP_PRJ_STATUSRPT.ID = (SELECT REPORT_ID FROM COP_PRJ_STATUSRPT_LATEST_V RECENT_REPORT WHERE RECENT_REPORT.INVESTMENT_ID=ODF_CA_COP_PRJ_STATUSRPT.ODF_PARENT_ID AND REPORT_ORDER = 1 )) as cop_is_latest, (nvl((odf_ca_cop_prj_statusrpt.cop_schedule_status*1),0)+nvl((odf_ca_cop_prj_statusrpt.cop_scope_status*1),0)+nvl((odf_ca_cop_prj_statusrpt.cop_cost_eft_status*1),0)) as cop_overall_status, odf_parent_id.odf_period_type as odf_period_type, odf_parent_id.odf_period_end as odf_period_end, odf_ca_cop_prj_statusrpt.cop_schedule_status as cop_schedule_status, odf_ca_cop_prj_statusrpt.cop_phase as cop_phase, odf_ca_cop_prj_statusrpt.cop_pdf_file as cop_pdf_file, odf_parent_id.schedule_start as inv_start, odf_ca_cop_prj_statusrpt.cop_scope_change as cop_scope_change, odf_parent_id.odf_period_start as odf_period_start, odf_ca_cop_prj_statusrpt.cop_scope_obj as cop_scope_obj, odf_ca_cop_prj_statusrpt.cop_report_date as cop_report_date, odf_ca_cop_prj_statusrpt.cop_scope_status as cop_scope_status, odf_ca_cop_prj_statusrpt.last_updated_date as last_updated_date, odf_parent_id.unique_code as cop_project_id, (CASE WHEN odf_ca_cop_prj_statusrpt.odf_parent_id = (SELECT ID FROM INV_INVESTMENTS INV WHERE ODF_OBJECT_CODE = 'project' AND ID = odf_ca_cop_prj_statusrpt.odf_parent_id) THEN  odf_ca_cop_prj_statusrpt.odf_parent_id ELSE NULL END) as projectid, odf_ca_cop_prj_statusrpt.cop_key_accomplish as cop_key_accomplish, odf_ca_cop_prj_statusrpt.cop_effort_exp as cop_effort_exp, odf_ca_cop_prj_statusrpt.cop_upcoming_act as cop_upcoming_act, odf_ca_cop_prj_statusrpt.cop_cost_eft_status as cop_cost_eft_status, (select audit_tmplt_created.full_name from (select full_name, user_id from srm_resources) audit_tmplt_created where audit_tmplt_created.user_id = odf_ca_cop_prj_statusrpt.created_by) as created_by, odf_ca_cop_prj_statusrpt.cop_schedule_exp as cop_schedule_exp, odf_ca_cop_prj_statusrpt.clr_status_narrative as clr_status_narrative, odf_ca_cop_prj_statusrpt.cop_scope_deliver as cop_scope_deliver, odf_ca_cop_prj_statusrpt.cop_cost_effort_rev as cop_cost_effort_rev, odf_ca_cop_prj_statusrpt.cop_report_status as cop_report_status, odf_ca_cop_prj_statusrpt.cop_cost_effort_ext as cop_cost_effort_ext, odf_ca_cop_prj_statusrpt.cop_sched_milestone as cop_sched_milestone, odf_ca_cop_prj_statusrpt.cop_scope_exp as cop_scope_exp, (select audit_tmplt_updated.full_name from (select full_name, user_id from srm_resources) audit_tmplt_updated where audit_tmplt_updated.user_id = odf_ca_cop_prj_statusrpt.last_updated_by) as updated_by, odf_parent_id.manager_id as cop_project_manager, odf_ca_cop_prj_statusrpt.name as name, odf_ca_cop_prj_statusrpt.cop_cost_eft_staff as cop_cost_eft_staff, odf_ca_cop_prj_statusrpt.odf_parent_id as odf_parent_id, odf_parent_id.risk as prjrisk, odf_ca_cop_prj_statusrpt.cop_report_update as cop_report_update, odf_ca_cop_prj_statusrpt.created_date as created_date, odf_ca_cop_prj_statusrpt.partition_code as partition_code, odf_parent_id.name as cop_project_name, odf_ca_cop_prj_statusrpt.odf_cncrt_parent_id as odf_cncrt_parent_id, odf_parent_id.entity as odf_entity_code  from odf_ca_cop_prj_statusrpt odf_ca_cop_prj_statusrpt, (select odf_inv.odf_pk,odf_inv.schedule_start,odf_inv.unique_code,odf_inv.manager_id,odf_inv.name,odf_project.odf_period_type,odf_project.odf_period_start,odf_project.entity,odf_project.odf_period_end,odf_project.risk from (select   'x' pmd_analytical_partition_by, inv_investments.id odf_pk, inv_investments.code as unique_code, inv_investments.MANAGER_ID as manager_id, inv_investments.schedule_start as schedule_start, inv_investments.name as name from inv_investments inv_investments where 1 = 1 ) odf_inv left outer join (select   'x' pmd_analytical_partition_by, inv_investments.id odf_pk, inv_investments.entity_code as entity, odf_ca_inv.odf_period_type as odf_period_type, odf_ca_inv.odf_period_start as odf_period_start, (inv_projects.RCF_FLEXIBILITY * 1.000000 + inv_projects.RCF_FUNDING * 1.000000 + inv_projects.RCF_HUMAN_INTERFACE * 1.000000 + inv_projects.RCF_IMPLEMENTATION * 1.000000 + inv_projects.RCF_INTERDEPENDENCY * 1.000000 + inv_projects.RCF_OBJECTIVES * 1.000000 + inv_projects.RCF_ORG_CULTURE * 1.000000 + inv_projects.RCF_RESOURCE_AVAIL * 1.000000 + inv_projects.RCF_SPONSORSHIP * 1.000000 + inv_projects.RCF_SUPPORTABILITY * 1.000000 + inv_projects.RCF_TECHNICAL * 1.000000) / (1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000 + 1.000000) as risk, odf_ca_inv.odf_period_end as odf_period_end, oim7.secondary_object_instance_id odf_fin_financials_SK from inv_investments inv_investments LEFT OUTER JOIN prj_ev_history EVREC ON EVREC.OBJECT_ID = INV_INVESTMENTS.ID AND EVREC.OBJECT_TYPE='PROJECT' AND EVREC.PERIOD_NUMBER=0 LEFT OUTER JOIN prj_baseline_details BASEREC ON BASEREC.BASELINE_ID = INV_INVESTMENTS.BASELINE_ID AND BASEREC.OBJECT_TYPE='PROJECT'  , inv_projects inv_projects, srm_resources CREATED, srm_resources UPDATED, odf_ca_inv odf_ca_inv, fin_financials fin_financials, odf_object_instance_mapping oim7, odf_ca_financials odf_ca_financials, pac_mnt_projects PAC_MNT_PROJECTS, odf_ca_projfinproperties odf_ca_projfinproperties, odf_ca_project odf_ca_project  where 1 = 1 and inv_investments.id = inv_projects.prid and inv_investments.created_by = CREATED.user_id and inv_investments.last_updated_by = UPDATED.user_id and inv_investments.id = odf_ca_inv.id and inv_investments.id = oim7.primary_object_instance_id  and oim7.primary_object_instance_code = 'project' and fin_financials.id = oim7.secondary_object_instance_id  and oim7.secondary_object_instance_code = 'financials'  and FIN_FINANCIALS.id = odf_ca_financials.id and inv_investments.id = PAC_MNT_PROJECTS.id and inv_investments.id = odf_ca_projfinproperties.id and inv_investments.id = odf_ca_project.id) odf_project on odf_inv.odf_pk = odf_project.odf_pk )  odf_parent_id  where 1 = 1 and odf_ca_cop_prj_statusrpt.odf_parent_id = odf_parent_id.odf_pk</text>
  </QueryResult>
</ClarityDBViewQuery>
