<ClarityDBViewQuery>
  <QueryResult code="ODF_PFM_PORTFOLIO_V2">
    <indexes/>
    <text_length>3545</text_length>
    <text>select   'x' pmd_analytical_partition_by, pfm_portfolios.id odf_pk, (nvl((pfm_portfolios.RISK*1),0)) as obj_risk, pfm_portfolios.BENEFITS_CURVE as benefits_curve, (NVL(PFM_PORTFOLIOS.CAPITAL_COST_TARGET,0)+NVL(PFM_PORTFOLIOS.OPERATING_COST_TARGET,0)) as total_cost_target, (NVL(PFM_PORTFOLIOS.CAPITAL_COST_TARGET,0)) as capital_cost_target, pfm_portfolios.PLAN_OF_RECORD as plan_of_record, (NVL(PFM_PORTFOLIOS.OPERATING_COST_TARGET,0)) as operating_cost_tgt, pfm_portfolios.OPERATING_COST_CURVE as operating_cost_curve, UPDATED.FULL_NAME as updated_by, UPDATED.ID as updated_by_id, pfm_portfolios.SYNCSCHEDULE_CRON as syncschedule_cron, odf_ca_pfm_portfolio.odf_period_type as odf_period_type, (NVL(PFM_PORTFOLIOS.BENEFITS_TARGET,0)) as benefits_target, pfm_portfolios.CURRENCY_CODE as currency_code, odf_ca_pfm_portfolio.odf_period_start as odf_period_start, (SELECT P.ID FROM CMN_PAGES P WHERE P.ID in
          (SELECT CASE WHEN CMN_PAGES.PRINCIPAL_TYPE = 'SYSTEM' THEN CMN_PAGES.ID
                  ELSE NVL(CMN_PAGES.ORIGINATING_PAGE_ID,CMN_PAGES.ID) END
          FROM CMN_INSTANCE_PAGES, CMN_PAGES
          WHERE CMN_INSTANCE_PAGES.PAGE_FRAME_ID = CMN_PAGES.ID
            AND CMN_INSTANCE_PAGES.OBJECT_TYPE = 'PFM_PORTFOLIO'
            AND CMN_INSTANCE_PAGES.OBJECT_INSTANCE_ID = PFM_PORTFOLIOS.ID
          )
        ) as page_layout, pfm_portfolios.TOTAL_COST_CURVE as total_cost_curve, ((PFM_PORTFOLIOS.COST_HEALTH + PFM_PORTFOLIOS.SCHEDULE_HEALTH +
        PFM_PORTFOLIOS.RESOURCE_HEALTH)/3) as overall_health, pfm_portfolios.START_DATE as start_date, pfm_portfolios.IS_ACTIVE as is_active, pfm_portfolios.SYNCSCHEDULE as syncschedule, pfm_portfolios.DEPARTMENT_ID as department_id, pfm_portfolios.SYNC_ERROR as sync_error, pfm_portfolios.RESOURCES_CURVE as resources_curve, (NVL(PFM_PORTFOLIOS.RESOURCES_TARGET,0)) as resources_target, pfm_portfolios.PROBABILITY_SUCCESS as probability_success, pfm_portfolios.FINISH_DATE as finish_date, ( select poa.unit_id from prj_obs_associations poa, prj_obs_units pou, prj_obs_types pot, prj_obs_object_types poot where  NLS_UPPER(poa.table_name) = NLS_UPPER('PFM_PORTFOLIO') and poa.record_id = PFM_PORTFOLIOS.ID and poa.unit_id = pou.id and pou.type_id = pot.id   and pot.id = poot.type_id and NLS_UPPER(poa.table_name) = NLS_UPPER(poot.table_name) and NLS_UPPER(poot.assoc_att_code) = NLS_UPPER('odf_orga_n927041378') ) as odf_orga_n927041378, pfm_portfolios.SYNC_DATE as sync_date, CREATED.FULL_NAME as created_by, pfm_portfolios.NAME as name, pfm_portfolios.COST_HEALTH as cost_health, CREATED.ID as created_by_id, pfm_portfolios.GOAL_ALIGNMENT as goal_alignment, pfm_portfolios.INNOVATION_LEVEL as innovation_level, pfm_portfolios.CODE as code, odf_ca_pfm_portfolio.odf_period_end as odf_period_end, pfm_portfolios.DESCRIPTION as description, pfm_portfolios.CAPACITY_UNIT_TYPE as cap_unit_type, PFM_PORTFOLIOS.LAST_UPDATED_DATE as last_updated_date, pfm_portfolios.SCHEDULE_HEALTH as schedule_health, pfm_portfolios.RESOURCE_HEALTH as resource_health, pfm_portfolios.CAPITAL_COST_CURVE as capital_cost_curve, pfm_portfolios.RISK as risk, PFM_PORTFOLIOS.CREATED_DATE as created_date, odf_ca_pfm_portfolio.partition_code as partition_code, odf_ca_pfm_portfolio.odf_entity_code as odf_entity_code  from pfm_portfolios pfm_portfolios JOIN srm_resources CREATED ON CREATED.user_id=pfm_portfolios.created_by JOIN srm_resources UPDATED ON UPDATED.user_id=pfm_portfolios.last_updated_by JOIN odf_ca_pfm_portfolio odf_ca_pfm_portfolio ON odf_ca_pfm_portfolio.id=pfm_portfolios.id  where 1 = 1</text>
  </QueryResult>
</ClarityDBViewQuery>
