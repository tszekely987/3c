<ClarityDBViewQuery>
  <QueryResult code="ODF_KEYMETRIC_V2">
    <indexes/>
    <text_length>2386</text_length>
    <text>select   'x' pmd_analytical_partition_by, dpt_keymetrics.id odf_pk, DPT_SUBSCRIPTIONS.department_id as department_id, subscription_id.odf_period_end as odf_period_end, subscription_id.odf_period_type as odf_period_type, dpt_keymetrics.ACTUAL_VALUE as actual_value, CREATED.FULL_NAME as created_by, dpt_keymetrics.SUBSCRIPTION_ID as subscription_id, subscription_id.odf_period_start as odf_period_start, UPDATED.FULL_NAME as last_updated_by, dpt_keymetrics.metric_code as metric_code, dpt_keymetrics.TARGET_VALUE as target_value, dpt_keymetrics.NAME as name, DPT_KEYMETRICS.CREATED_DATE as created_date, odf_ca_keymetric.partition_code as partition_code, DPT_KEYMETRICS.LAST_UPDATED_DATE as last_updated_date, subscription_id.odf_entity_code as odf_entity_code, subscription_id.department_id as odf_grand_parent_id  from dpt_keymetrics dpt_keymetrics JOIN odf_ca_keymetric odf_ca_keymetric ON odf_ca_keymetric.id=dpt_keymetrics.id JOIN (select   'x' pmd_analytical_partition_by, dpt_subscriptions.id odf_pk, department_id.odf_period_end as odf_period_end, department_id.odf_period_type as odf_period_type, department_id.odf_period_start as odf_period_start, dpt_subscriptions.DEPARTMENT_ID as department_id, department_id.odf_entity_code as odf_entity_code from dpt_subscriptions dpt_subscriptions JOIN (select   'x' pmd_analytical_partition_by, departments.id odf_pk, odf_ca_financials.odf_period_type as odf_period_type, odf_ca_financials.odf_period_start as odf_period_start, odf_ca_financials.odf_period_end as odf_period_end, odf_ca_financials.odf_entity_code as odf_entity_code from departments departments join odf_object_instance_mapping oim1 on departments.id = oim1.primary_object_instance_id  and oim1.primary_object_instance_code='department' join fin_financials fin_financials on oim1.secondary_object_instance_id = fin_financials.id and oim1.secondary_object_instance_code='financials' JOIN odf_ca_financials odf_ca_financials ON odf_ca_financials.id=FIN_FINANCIALS.id where 1 = 1 )  department_id ON department_id.odf_pk=dpt_subscriptions.DEPARTMENT_ID where 1 = 1 )  subscription_id ON subscription_id.odf_pk=dpt_keymetrics.SUBSCRIPTION_ID ,SRM_RESOURCES CREATED, SRM_RESOURCES UPDATED, DPT_SUBSCRIPTIONS where DPT_KEYMETRICS.CREATED_BY = CREATED.USER_ID and DPT_KEYMETRICS.LAST_UPDATED_BY = UPDATED.USER_ID
      and DPT_KEYMETRICS.subscription_id = DPT_SUBSCRIPTIONS.id</text>
  </QueryResult>
</ClarityDBViewQuery>
