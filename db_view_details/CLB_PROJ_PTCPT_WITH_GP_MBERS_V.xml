<ClarityDBViewQuery>
  <QueryResult code="CLB_PROJ_PTCPT_WITH_GP_MBERS_V">
    <indexes/>
    <text_length>1003</text_length>
    <text>SELECT
 DISTINCT MEMBER.ID USER_ID,
 MEMBER.USER_NAME,
 RES.LAST_NAME,
 RES.FIRST_NAME,
 RES. EMAIL EMAIL_ADDRESS,
 CONTACT.PHONE_WORK,
 COMPANY.COMPANY_NAME,
 PROJECT.PROJECT_ID,
 CLB_PROJECT_PKG.IS_PROJECT_MANAGER( PROJECT.PROJECT_MANAGERS_GROUP_ID,
                                    MEMBER.ID ) IS_PROJECT_MANAGER,
 RES.UNIQUE_NAME,
 RES.ID RESOURCE_ID
FROM
  CMN_SEC_USERS   MEMBER left outer join
  	SRM_COMPANIES COMPANY on MEMBER.COMPANY_ID = COMPANY.ID,
  CMN_SEC_USER_GROUPS  USER_GROUP left outer join
  	SRM_CONTACTS  CONTACT on USER_GROUP.USER_ID = CONTACT.PRINCIPAL_ID
													AND  'USERS' = CONTACT.PRINCIPAL_TYPE,
  CLB_PROJECT_GROUP_KEYS    PROJECT,
  SRM_RESOURCES RES
WHERE ((PROJECT.PROJECT_MEMBERS_GROUP_ID =USER_GROUP.GROUP_ID) OR (USER_GROUP.GROUP_ID IN
(select GROUP_ID from CMN_SEC_GROUP_HIERARCHIES GRP_HIER,CLB_PROJECT_GROUP_KEYS PROJECT  WHERE PROJECT.PROJECT_MEMBERS_GROUP_ID =GRP_HIER.PARENT_GROUP_ID)))
AND  USER_GROUP.USER_ID = MEMBER.ID
AND RES.USER_ID = MEMBER.ID</text>
  </QueryResult>
</ClarityDBViewQuery>
