<?xml version="1.0" encoding="UTF-8" standalone="no"?><QueryResult xmlns="http://www.niku.com/xog/Query" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <Code>capture3c.get_db_procedure</Code>
      <Records>
        <Record>
          <code>PAC_PRC_VOUCHER_ERRORFLAG_SP</code>
          <parallel>NO</parallel>
          <definition>
  CREATE OR REPLACE EDITIONABLE PROCEDURE "PPM"."PAC_PRC_VOUCHER_ERRORFLAG_SP" (
v_ErrorFlag 			NUMBER )
AS
iErrorFlag      NUMBER;
BEGIN
 /* Called From:
     Procedure         :-
     Trigger           :-
     PMD TransactionId :-
     WMD ActionId      :-
   Modified By   :Nitin
   Modified Date :07/25/01
*/

	Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag := v_ErrorFlag;
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = 0 THEN
		RETURN;
	END IF;
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -1 THEN
		RAISE_APPLICATION_ERROR(-20315, 'Data not found in activatecostcode table for costcode');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -2 THEN
		RAISE_APPLICATION_ERROR(-20316, 'Data not found in RESOURCE_CODE table for RESOURCE_CODE');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -3 THEN
		RAISE_APPLICATION_ERROR(-20317, 'PROJECT_CODE or PROJECT_CODE Changeorder not found on projects table for COMPANY_CODE/PROJECT_CODE combination');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -4 THEN
		RAISE_APPLICATION_ERROR(-20318, 'Budget does not exist for this budgeted PROJECT_CODE or PROJECT_CODE changeorder. Budget must be set up.');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -6 THEN
		RAISE_APPLICATION_ERROR(-20319, 'Cost code rate not found on costcoderatescosts table for costcode locationid, departcode, costvariation combination');
	ELSE
	/* -- 5 IF's -- */
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -5 THEN
		RAISE_APPLICATION_ERROR(-20320, 'COMPANY_CODE rate not found on clntsupp table for COMPANY_CODE');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -7 THEN
		RAISE_APPLICATION_ERROR(-20321, 'RESOURCE_CODE rate not found on emplybillrate table for RESOURCE_CODE');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -8 THEN
		RAISE_APPLICATION_ERROR(-20322, 'Insert failed on transactioncontrol table');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -9 THEN
		RAISE_APPLICATION_ERROR(-20323, 'Transtype not found on costcode table for costcode passsed to proc');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -10 THEN
		RAISE_APPLICATION_ERROR(-20324, 'Error inserting into entrycyclecontrol table');
	ELSE
	/* -- 10 IF's -- */
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -11 THEN
		RAISE_APPLICATION_ERROR(-20325, 'UDK rate not found on UDK table');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -12 THEN
		RAISE_APPLICATION_ERROR(-20326, 'Budget not set up for RESOURCE_CODE');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -13 THEN
		RAISE_APPLICATION_ERROR(-20327, 'Originating transaction not in WIP');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -14 THEN
		RAISE_APPLICATION_ERROR(-20328, 'Originating transaction is being billed');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -15 THEN
		RAISE_APPLICATION_ERROR(-20329, 'Transaction date is before RESOURCE_CODE hire date or after RESOURCE_CODE separation date');
	ELSE
	/* -- 15 IF's -- */
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -20 THEN
		RAISE_APPLICATION_ERROR(-20330, 'COMPANY_CODE cost not found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -22 THEN
		RAISE_APPLICATION_ERROR(-20331, 'Costcode cost not found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -23 THEN
		RAISE_APPLICATION_ERROR(-20332, 'RESOURCE_CODE cost not found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -25 THEN
		RAISE_APPLICATION_ERROR(-20333, 'UDK cost not found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -26 THEN
		RAISE_APPLICATION_ERROR(-20334, 'Inactive costclass found');
	ELSE
	/* -- 20 IF's -- */
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -27 THEN
		RAISE_APPLICATION_ERROR(-20335, 'Inactive costcode found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -28 THEN
		RAISE_APPLICATION_ERROR(-20336, 'Error calling pattern match');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -29 THEN
		RAISE_APPLICATION_ERROR(-20337, 'Matrix rate not found');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -30 THEN
		RAISE_APPLICATION_ERROR(-20338, 'COMPANY_CODE, PROJECT_CODE, Costcode or RESOURCE_CODE invalid for transactionno selected');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -31 THEN
		RAISE_APPLICATION_ERROR(-20339, 'Debit Memo amount exceeds original supplier invoice amount');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -32 THEN
		RAISE_APPLICATION_ERROR(-20340, 'Insert failed on the apdetails table');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -33 THEN
		RAISE_APPLICATION_ERROR(-20341, 'Insert failed on the apdetailsaccts table');
	ELSE
	IF  Pac_Prc_Voucher_ErrorFlag_Sp.iErrorFlag = -34 THEN
		RAISE_APPLICATION_ERROR(-20342, 'Delete failed on the APTRANS table');
	END IF;
	END IF;  END IF;
	END IF;	 END IF;   END IF;	 END IF;	END IF;
	END IF;	 END IF;   END IF;	 END IF;	END IF;
	END IF;	 END IF;   END IF;	 END IF;	END IF;
	END IF;	 END IF;   END IF;	 END IF;	END IF;
	END IF;	 END IF;   END IF;	 END IF;	END IF;
END;
 
 
 
 
 </definition>
        </Record>
      </Records>
      <Slice>
        <Number>0</Number>
        <Size>1</Size>
        <Total>1</Total>
      </Slice>
    </QueryResult>