<?xml version="1.0" encoding="UTF-8" standalone="no"?><NikuDataBus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../xsd/nikuxog_contentPack.xsd">
      <Header action="write" externalSource="NIKU" objectType="contentPack" version="16.1.2.1567"/>
      <contentPack update="true">
        <queries update="true">
          <query category="PRODUCTIVITY" code="cop.qry.upcomingMilestones" isUserPortletAvailable="1" source="csk.niku.com">
            
            
            
            
            <nls description="Milestones" languageCode="en" name="Milestones"/>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <nsql dbId="Niku" dbVendor="all"><![CDATA[SELECT DISTINCT 
       @SELECT:DIM:USER_DEF:IMPLIED:MILESTONE:t.prid:milestone_int_id@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:inv.id:project_int_id@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:inv.name:project_name@,
       @select:dim_prop:user_def:implied:MILESTONE:@UPPER@(inv.odf_object_code):investment_type_upper@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:t.prwbssequence:wbs_sequence@, @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:t.prname:milestone_name@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:t.prstart:start_date@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:@DBUSER@.cop_calc_finish_time_fct(t.prfinish):finish_date@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:det.start_date:baseline_start@,
       @SELECT:DIM_PROP:USER_DEF:IMPLIED:MILESTONE:@DBUSER@.cop_calc_finish_time_fct(det.finish_date):baseline_finish@,
       @SELECT:METRIC:USER_DEF:IMPLIED:tsk_d.days_late:days_late@,
       @SELECT:METRIC:USER_DEF:IMPLIED:tsk_d.days_late:days_late_sl@,
       @SELECT:METRIC:USER_DEF:IMPLIED:tsk_d.days_late_pct:days_late_pct@,
       @SELECT:METRIC:USER_DEF:IMPLIED:tsk_d.days_late_pct:days_late_pct_sl@
FROM   prtask t 
INNER  JOIN  cop_tsk_days_late_v tsk_d
             ON   t.prid = tsk_d.task_id 
INNER  JOIN  inv_investments inv
             ON   t.prprojectid = inv.id 
             AND  inv.is_active <> 0  
INNER  JOIN  inv_projects prj 
             ON   prj.prid = inv.id 
             AND  prj.is_template <> 1 
             AND  prj.is_program <> 1
LEFT   OUTER JOIN prj_baseline_details det
             ON   det.OBJECT_ID =  t.prid 
             AND  @UPPER@(det.Object_Type) = 'TASK'
             AND  det.IS_Current = 1 
LEFT   OUTER JOIN prj_obs_associations assoc 
             ON   inv.id = assoc.record_id
             AND  @UPPER@(assoc.table_name) = 'SRM_PROJECTS'
LEFT   OUTER JOIN prj_obs_units_flat flat 
             ON   assoc.unit_id = flat.unit_id  
LEFT   OUTER JOIN (SELECT @SELECT:PARAM:USER_DEF:DATE:as_of_date@ FROM dual WHERE 1=1) temp1 
             ON   1=1 
LEFT   OUTER JOIN (SELECT @SELECT:PARAM:USER_DEF:INTEGER:number_of_days@ FROM dual WHERE 1=1) temp2
             ON   1=1 
WHERE  t.prismilestone = 1 
AND    t.prstatus <> 2
AND   (@DBUSER@.COP_CALC_FINISH_FCT(t.prfinish) 
             BETWEEN  (@NVL@(temp1.as_of_date,@SYSDATE@) - @NVL@(temp2.number_of_days,45)) 
                 AND  (@NVL@(temp1.as_of_date,@SYSDATE@) + @NVL@(temp2.number_of_days,45))) 
AND   (@WHERE:PARAM:USER_DEF:INTEGER:obs@ IS NULL OR @WHERE:PARAM:USER_DEF:INTEGER:obs@ = flat.branch_unit_id)
AND    @WHERE:PARAM:USER_DEF:INTEGER:inv.manager_id:MANAGER_ID@
AND    @WHERE:SECURITY:PROJECT:inv.id@
AND    @FILTER@]]></nsql>
            <attribute id="milestone_int_id" required="false">
              
              
              
              
              <nls description="Milestone Internal ID" languageCode="en" name="Milestone Internal ID"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="project_int_id" required="false">
              
              
              
              
              <nls description="Project Internal ID" languageCode="en" name="Project Internal ID"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="project_name" required="false">
              
              
              
              
              <nls description="Project" languageCode="en" name="Project"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="investment_type_upper" required="false">
              
              
              <nls description="Investment Object Code Upper" languageCode="en" name="Investment Object Code Upper"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="wbs_sequence" required="false">
              
              
              
              
              
              
              
              
              <nls description="WBS Sequence" languageCode="en" name="WBS Sequence"/>
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="milestone_name" required="false">
              
              
              
              
              
              
              
              <nls description="Milestone" languageCode="en" name="Milestone"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="start_date" required="false">
              
              <nls description="Start Date" languageCode="en" name="Start"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="finish_date" required="false">
              
              
              
              
              <nls description="Finish Date" languageCode="en" name="Finish"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="baseline_start" required="false">
              
              
              
              
              <nls description="Baseline Start Date" languageCode="en" name="Baseline Start"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="baseline_finish" required="false">
              
              
              
              
              
              <nls description="Baseline Finish Date" languageCode="en" name="Baseline Finish"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="days_late" required="false">
              
              <nls description="Days Late" languageCode="en" name="Days Late"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="days_late_sl" required="false">
              
              
              
              
              <nls description="Schedule" languageCode="en" name="Schedule"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              <displayMapping defaultTypeCode="white" type="color">
                <mapping hi="0" lo="-100000" mappingCode="mapping-1" typeCode="green"/>
                <mapping hi="1" lo="0" mappingCode="mapping-2" typeCode="green"/>
                <mapping hi="11" lo="1" mappingCode="mapping-3" typeCode="yellow"/>
                <mapping hi="100000" lo="11" mappingCode="mapping-4" typeCode="red"/>
              </displayMapping>
            </attribute>
            <attribute id="days_late_pct" required="false">
              
              
              
              
              
              
              <nls description="Days Late %" languageCode="en" name="Days Late %"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="days_late_pct_sl" required="false">
              
              
              
              
              
              <nls description="Schedule %" languageCode="en" name="Schedule %"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              <displayMapping defaultTypeCode="white" type="color">
                <mapping hi="0" lo="-100000" mappingCode="mapping-1" typeCode="green"/>
                <mapping hi="1" lo="0" mappingCode="mapping-2" typeCode="green"/>
                <mapping hi="11" lo="1" mappingCode="mapping-3" typeCode="yellow"/>
                <mapping hi="100000" lo="11" mappingCode="mapping-4" typeCode="red"/>
              </displayMapping>
            </attribute>
            <attribute id="param_manager_id" lookup="BROWSE_PROJMGR" required="false">
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              <nls description="Project Manager Filter" languageCode="en" name="Project Manager Filter"/>
              
            </attribute>
            <attribute id="param_obs" lookup="OBS_BROWSE_FLT_PRJ" required="false">
              
              
              
              
              <nls description="OBS Filter" languageCode="en" name="OBS Filter"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="param_as_of_date" required="false">
              
              
              
              
              <nls description="As of Date Filter" languageCode="en" name="As of Date Filter"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <attribute id="param_number_of_days" required="false">
              
              
              
              
              <nls description="Days Outlook Filter" languageCode="en" name="Days Outlook Filter"/>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </attribute>
            <links>
              <link action="projmgr.taskProperties" code="milestoneProperties">
                
                
                
                
                <nls description="Milestone Properties" languageCode="en" name="Milestone Properties"/>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <linkParam dataRef="/data/header/action/@id" dataSource="input" paramCode="returnAction"/>
                <linkParam dataRef="milestone_int_id" dataSource="data" paramCode="id"/>
                <linkParam dataRef="project_int_id" dataSource="data" paramCode="projectId"/>
              </link>
              <link action="projmgr.projectOverview" code="projectOverview">
                
                
                
                
                <nls description="Project Overview" languageCode="en" name="Project Overview"/>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <linkParam dataRef="project_int_id" dataSource="data" paramCode="id"/>
              </link>
              <link action="pma.investmentProperties" code="projectProperties">
                
                
                
                
                <nls description="Project Properties" languageCode="en" name="Project Properties"/>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <linkParam dataRef="investment_type_upper" dataSource="data" paramCode="investment_code"/>
                <linkParam dataRef="/data/header/action/@id" dataSource="input" paramCode="return_to"/>
                <linkParam dataRef="project_int_id" dataSource="data" paramCode="id"/>
              </link>
            </links>
          </query>
        </queries>
      </contentPack>
    </NikuDataBus>